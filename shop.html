<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1200, initial-scale=0.5, maximum-scale=5.0, minimum-scale=0.1, user-scalable=yes" />
  <title>Shop All Products - Natura Honey</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/akira-expanded" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Shadow+Into+Light&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: white;
      color: #333;
      line-height: 1.6;
      font-family: 'Unbounded', sans-serif;
      scroll-padding-top: 120px;
      transition: all 0.3s ease;
      /* Prevent mobile scaling */
      min-width: 1200px !important;
      overflow-x: auto !important;
    }
   
   /* Banner Wrapper */
.banner-wrapper {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 0;
}

.rectangle-banner {
  background: url('https://ik.imagekit.io/hexaanatura/Desktop%20-%201.jpg?updatedAt=1756993544883') center/cover no-repeat;
  padding: 50px;
  width: 95%;
  max-width: 1800px;
  border-radius: 132px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  height: 500px;
  overflow: hidden;
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 2px;
}

.banner-row {
  font-family: 'Akira Expanded', sans-serif;
  font-weight: 900;
  font-size: 150px;
  color: white;
  mix-blend-mode: soft-light;
  white-space: nowrap;
  display: inline-block;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  line-height: 0.75;
  opacity: 0.9;
}

.slide-right {
  animation: slideRight 60s linear infinite;
}

.slide-left {
  animation: slideLeft 60s linear infinite;
}

@keyframes slideRight {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0%);
  }
}

@keyframes slideLeft {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}

/* Shop Header */
.shop-header {
  background: url('https://ik.imagekit.io/hexaanatura/Desktop%20-%201.jpg?updatedAt=1756993544883') center/cover no-repeat;
  padding: 80px 5%;
  text-align: center;
  position: relative;
  overflow: hidden;
  margin-bottom: 40px;
  border-radius: 50px;
}

.shop-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1;
  border-radius: 50px;
}

.shop-header h1 {
  font-family: 'Akira Expanded', sans-serif;
  font-size: 3.5rem;
  color: #7a3731;
  margin-bottom: 20px;
  position: relative;
  z-index: 2;
}

.shop-header p {
  font-family: 'Unbounded', sans-serif;
  font-size: 1.2rem;
  color: #7a3731;
  max-width: 700px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

/* Shop Controls */
.shop-controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 5%;
  margin-bottom: 30px;
  flex-wrap: wrap;
  gap: 20px;
}

.filter-toggle {
  background: #5f2b27;
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 25px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: background 0.3s;
}

.filter-toggle:hover {
  background: #7a3731;
}

.sort-options {
  display: flex;
  align-items: center;
  gap: 15px;
}

.sort-options label {
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 14px;
}

.sort-options select {
  padding: 10px 15px;
  border-radius: 20px;
  border: 1px solid #ddd;
  font-family: 'Unbounded', sans-serif;
  background: white;
  cursor: pointer;
}

.view-options {
  display: flex;
  gap: 10px;
}

.view-option {
  background: #f1f1f1;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;
}

.view-option.active {
  background: #5f2b27;
  color: white;
}

.view-option:hover {
  background: #ddd;
}

.view-option.active:hover {
  background: #7a3731;
}

.results-count {
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
  color: #777;
}

/* Filter Sidebar */
.filter-sidebar {
  position: fixed;
  top: 0;
  left: -300px;
  width: 300px;
  height: 100%;
  background: white;
  z-index: 9998; /* Increased */
  transition: left 0.3s ease;
  box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
  padding: 80px 20px 20px;
  overflow-y: auto;
}

.filter-sidebar.active {
  left: 0;
}

.filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
  padding-bottom: 15px;
  border-bottom: 1px solid #eee;
}

.filter-header h3 {
  font-family: 'Akira Expanded', sans-serif;
  font-size: 1.5rem;
  color: #5f2b27;
}

.close-filter {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #333;
}

.filter-group {
  margin-bottom: 25px;
}

.filter-group h4 {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 16px;
  margin-bottom: 15px;
  color: #333;
}

.filter-options {
  list-style: none;
}

.filter-options li {
  margin-bottom: 10px;
}

.filter-options label {
  display: flex;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
}

.filter-options input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: #5f2b27;
}

.price-range {
  margin-top: 10px;
}

.price-range-values {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
}

.apply-filters {
  background: #5f2b27;
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 25px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  margin-top: 20px;
  transition: background 0.3s;
}

.apply-filters:hover {
  background: #7a3731;
}

.clear-filters {
  background: #f1f1f1;
  color: #333;
  border: none;
  padding: 10px 20px;
  border-radius: 25px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  cursor: pointer;
  width: 100%;
  margin-top: 10px;
  transition: background 0.3s;
}

.clear-filters:hover {
  background: #ddd;
}


/* Products Grid */
.products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 30px;
  padding: 0 5% 60px;
  justify-items: center;
}

/* Product Card */
.product-card {
  position: relative;
  overflow: hidden;
  border-radius: 20px;
  cursor: pointer;
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  display: flex;
  flex-direction: column;
  height: 550px;
  width: 100%;
  max-width: 280px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  border: 3px solid rgba(255, 255, 255, 0.8);
  background: white;
}

.product-card:hover {
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
  border-color: #FFD700;
}

.product-image-container {
  height: 320px;
  overflow: hidden;
  position: relative;
}

.product-card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 18px 18px 0 0;
  transition: transform 0.3s ease;
}

.product-card:hover img {
  transform: scale(1.1);
}

/* Product Details Section */
.product-details {
  padding: 15px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  justify-content: space-between;
  position: relative;
}

.product-title {
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 16px;
  color: #333;
  margin-bottom: 8px;
  line-height: 1.3;
}

.product-price {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 18px;
  color: #5f2b27;
  margin-bottom: 10px;
}

/* Weight badge styling */
.product-weight {
  display: inline-block;
  background: #FFD700;
  color: #5f2b27;
  padding: 4px 10px;
  border-radius: 15px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 10px;
  border: 1px solid #5f2b27;
  position: absolute;
  top: 15px;
  right: 15px;
  z-index: 3;
  transition: all 0.3s ease;
}

.product-rating {
  display: flex;
  align-items: center;
  margin-bottom: 12px;
}

.rating-stars {
  color: #FFD700;
  font-size: 14px;
  margin-right: 8px;
}

.rating-count {
  font-family: 'Unbounded', sans-serif;
  font-size: 13px;
  color: #777;
}

.product-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: auto;
}

.add-to-cart-btn {
  background: linear-gradient(135deg, #5f2b27 0%, #7a3731 100%);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  flex-grow: 1;
  margin-right: 10px;
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(95, 43, 39, 0.3);
}

.add-to-cart-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(95, 43, 39, 0.4);
  background: linear-gradient(135deg, #7a3731 0%, #8a3c35 100%);
}

.add-to-cart-btn:active {
  transform: translateY(-1px);
}

@keyframes addToCartPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 4px 15px rgba(95, 43, 39, 0.3);
  }
  50% {
    transform: scale(0.95);
    box-shadow: 0 6px 20px rgba(95, 43, 39, 0.6);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 4px 15px rgba(95, 43, 39, 0.3);
  }
}

.add-to-cart-btn.adding {
  animation: addToCartPulse 0.4s ease;
}

@keyframes cartBounce {
  0%, 20%, 60%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-5px);
  }
  80% {
    transform: translateY(-2px);
  }
}

.cart-icon-bounce {
  animation: cartBounce 0.6s ease;
}

@keyframes badgePulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
  100% {
    transform: scale(1);
  }
}

.badge-pulse {
  animation: badgePulse 0.4s ease;
}

.wishlist-btn {
  background: #f1f1f1;
  color: #333;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;
}

.wishlist-btn:hover {
  background: #FFD700;
  color: #5f2b27;
}

/* Hover Overlay */
.product-card .overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 320px;
  background: rgba(0, 0, 0, 0.5);
  color: #fff;
  font-size: 24px;
  font-weight: 700;
  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.3s ease;
  border-radius: 18px 18px 0 0;
}

.product-card:hover .overlay {
  opacity: 1;
}

/* Responsive */
@media (max-width: 1400px) {
  .products-grid {
    grid-template-columns: repeat(3, 1fr);
    gap: 25px;
  }
  
  .product-card {
    max-width: 300px;
  }
}

@media (max-width: 1024px) {
  .products-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
  }
  
  .product-card {
    max-width: 320px;
    height: 520px;
  }
  
  .product-image-container {
    height: 300px;
  }
  
  .product-card .overlay {
    height: 300px;
  }
}

@media (max-width: 768px) {
  .products-grid {
    grid-template-columns: 1fr;
    gap: 20px;
    padding: 0 3% 60px;
  }
  
  .product-card {
    max-width: 350px;
    height: 500px;
  }
  
  .product-image-container {
    height: 280px;
  }
  
  .product-card .overlay {
    height: 280px;
  }
  
  .product-title {
    font-size: 16px;
  }
  
  .product-price {
    font-size: 18px;
  }
  
  .product-buttons {
    flex-direction: row !important;
  }
  .product-buttons button {
    width: auto !important;
  }
}

/* Products List View */
.products-list {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 0 5% 60px;
}

.product-list-item {
  display: flex;
  background: white;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.product-list-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.list-image-container {
  width: 250px;
  height: 250px;
  overflow: hidden;
  flex-shrink: 0;
}

.list-image-container img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.product-list-item:hover .list-image-container img {
  transform: scale(1.1);
}

.list-details {
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  flex-grow: 1;
}

.list-title-price {
  margin-bottom: 15px;
}

.list-title {
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 20px;
  color: #333;
  margin-bottom: 8px;
}

.list-price {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 22px;
  color: #5f2b27;
}

.list-description {
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
  color: #777;
  margin-bottom: 15px;
  line-height: 1.5;
}

.list-actions {
  display: flex;
  gap: 15px;
}

.list-add-to-cart {
  background: #5f2b27;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s;
  flex-grow: 1;
}

.list-add-to-cart:hover {
  background: #7a3731;
}

.list-wishlist {
  background: #f1f1f1;
  color: #333;
  border: none;
  width: 45px;
  height: 45px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;
}

.list-wishlist:hover {
  background: #FFD700;
  color: #5f2b27;
}

/* Pagination */
.pagination {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 10px;
  padding: 30px 5% 60px;
}

.pagination-button {
  background: #f1f1f1;
  color: #333;
  border: none;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
}

.pagination-button:hover {
  background: #ddd;
}

.pagination-button.active {
  background: #5f2b27;
  color: white;
}

.pagination-button.active:hover {
  background: #7a3731;
}

.pagination-ellipsis {
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  color: #777;
}

/* Quick View Modal */
.quick-view-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  z-index: 9999; /* This is the key fix */
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.quick-view-content {
  background: white;
  border-radius: 20px;
  width: 100%;
  max-width: 1000px;
  max-height: 90vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

.quick-view-close {
  align-self: flex-end;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  padding: 15px;
  color: #333;
}

.quick-view-body {
  display: flex;
  padding: 0 30px 30px;
  gap: 30px;
}

.quick-view-image {
  flex: 1;
  max-width: 400px;
  border-radius: 15px;
  overflow: hidden;
}

.quick-view-image img {
  width: 100%;
  height: auto;
  display: block;
}

.quick-view-details {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.quick-view-title {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 24px;
  color: #333;
  margin-bottom: 10px;
}

.quick-view-price {
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 26px;
  color: #5f2b27;
  margin-bottom: 15px;
}

.quick-view-rating {
  display: flex;
  align-items: center;
  margin-bottom: 15px;
}

.quick-view-description {
  font-family: 'Unbounded', sans-serif;
  font-size: 16px;
  color: #777;
  line-height: 1.6;
  margin-bottom: 20px;
}

.quick-view-weight {
  display: inline-block;
  background: #FFD700;
  color: #5f2b27;
  padding: 6px 12px;
  border-radius: 15px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  font-size: 14px;
  margin-bottom: 20px;
  border: 1px solid #5f2b27;
}

.quick-view-actions {
  display: flex;
  gap: 15px;
  margin-top: auto;
}

.quick-view-add-to-cart {
  background: #5f2b27;
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 25px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.3s;
  flex-grow: 1;
}

.quick-view-add-to-cart:hover {
  background: #7a3731;
}

.quick-view-wishlist {
  background: #f1f1f1;
  color: #333;
  border: none;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: background 0.3s;
}

.quick-view-wishlist:hover {
  background: #FFD700;
  color: #5f2b27;
}

/* Responsive */
@media (max-width: 1024px) {
  .product-card {
    height: 550px !important;
    width: 350px !important;
  }
  
  .product-image-container {
    height: 350px !important;
  }
  
  .product-card .overlay {
    height: 350px !important;
  }
}

@media (max-width: 768px) {
  .product-card {
    height: 550px !important;
    width: 350px !important;
  }
  
  .product-image-container {
    height: 350px !important;
  }
  
  .product-card .overlay {
    height: 350px !important;
  }
  
  .product-title {
    font-size: 18px !important;
  }
  
  .product-price {
    font-size: 20px !important;
  }
  
  .product-buttons {
    flex-direction: row !important;
  }
  .product-buttons button {
    width: auto !important;
  }
}

/* Header Styles */
.notification-bar {
  background: #e7d90f;
  color: #fff;
  text-align: center;
  padding: 10px;
  font-weight: 600;
  font-size: 14px;
  letter-spacing: 1px;
  position: fixed;
  top: 5px;
  left: 0;
  right: 0;
  z-index: 50;
  transition: transform 0.3s ease, opacity 0.3s ease;
  will-change: transform, opacity;
}
.notification-bar::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 1;
}
.notification-bar p {
  position: relative;
  z-index: 2;
}
.notification-bar.hidden {
  transform: translateY(-100%);
  opacity: 0;
  pointer-events: none;
}

nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px 5%;
  background: white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  position: fixed;
  top: 43px;
  left: 0;
  right: 0;
  z-index: 60;
  font-family: 'Nirmala UI', sans-serif;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 2px;
  transition: top 0.3s ease;
  flex-direction: row !important;
}
.logo {
  position: absolute;
  left: 50%;
  top: 30px;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 65;
}
.logo img {
  height: 70px;
  width: auto;
  cursor: pointer;
  transition: transform 0.3s;
}
.logo img:hover {
  transform: scale(1.05);
}
.nav-links {
  display: flex;
  list-style: none;
}
.nav-links li {
  margin: 0 15px;
  position: relative;
}
.nav-links a {
  text-decoration: none;
  color: #333;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.3s;
  padding: 5px 0;
}
.nav-links a:hover,
.nav-links a:focus {
  color: #5f2b27;
  transform: scale(1.1);
}
.nav-links a.active {
  color: #5f2b27;
  border-bottom: 2px solid #ff4d4d;
}

.nav-icons {
  display: flex;
  align-items: center;
  margin-left: auto;
  gap: 35px;
}
.icon {
  font-size: 20px;
  color: #333;
  transition: color 0.3s;
  cursor: pointer;
  position: relative;
}
.icon:hover {
  color: #5f2b27;
}

.user-dropdown {
  position: relative;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  min-width: 200px;
  z-index: 100;
  display: none;
  overflow: hidden;
  margin-top: 10px;
  border: 1px solid #f0f0f0;
  animation: dropdownFadeIn 0.3s ease;
}

@keyframes dropdownFadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dropdown-menu.active {
  display: block;
}

.dropdown-item {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  text-decoration: none;
  color: #333;
  transition: all 0.3s ease;
  border-bottom: 1px solid #f8f8f8;
  font-family: 'Unbounded', sans-serif;
  font-weight: 500;
  font-size: 15px;
}

.dropdown-item:last-child {
  border-bottom: none;
}

.dropdown-item:hover {
  background: linear-gradient(135deg, #5f2b27 0%, #7a3731 100%);
  color: white;
  transform: translateX(5px);
}

.dropdown-item i {
  margin-right: 12px;
  width: 20px;
  text-align: center;
  font-size: 16px;
  transition: transform 0.3s ease;
}

.dropdown-item:hover i {
  transform: scale(1.2);
}

.user-icon-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  transition: all 0.3s ease;
  cursor: pointer;
}

.user-icon-wrapper:hover {
  background: rgba(95, 43, 39, 0.1);
}

.user-icon-wrapper.logged-in {
  background: #5f2b27;
  color: white;
}

.user-icon-wrapper.logged-in:hover {
  background: #7a3731;
  transform: scale(1.1);
}

.user-icon-wrapper .fa-user {
  font-size: 18px;
  transition: all 0.3s ease;
}

.user-icon-wrapper:hover .fa-user {
  transform: scale(1.1);
}

.user-notification-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  background: #FFD700;
  color: #333;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  border: 2px solid white;
}

/* Cart Sidebar */
.cart-sidebar {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
  box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  padding: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
.cart-sidebar.active {
  right: 0;
}
.cart-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 25px 30px;
  background: #5f2b27;
  color: white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}
.cart-header h2 {
  font-family: 'Unbounded', sans-serif;
  color: white;
  font-weight: 700;
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  gap: 10px;
}
.cart-header h2 i {
  font-size: 1.5rem;
}
.close-cart {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: white;
  transition: transform 0.3s;
}
.close-cart:hover {
  transform: scale(1.1);
}
.cart-content {
  flex: 1;
  padding: 25px 30px;
  display: flex;
  flex-direction: column;
}
.cart-items {
  margin-bottom: 20px;
  max-height: 55vh;
  overflow-y: auto;
  padding-right: 10px;
}
.cart-items::-webkit-scrollbar {
  width: 6px;
}
.cart-items::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}
.cart-items::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 10px;
}
.cart-items::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}
.cart-item {
  display: flex;
  margin-bottom: 20px;
  padding: 15px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
  overflow: hidden;
}
.cart-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
.cart-item::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: #FFD700;
}
.cart-item img {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: 8px;
  margin-right: 15px;
}
.cart-item-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.cart-item-title {
  font-weight: 700;
  margin-bottom: 5px;
  font-family: 'Unbounded', sans-serif;
  font-size: 1.1rem;
  color: #333;
}
.cart-item-price {
  color: #5f2b27;
  font-weight: 700;
  font-family: 'Unbounded', sans-serif;
  font-size: 1.1rem;
  margin-bottom: 10px;
}
.cart-item-controls {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.cart-item-quantity {
  display: flex;
  align-items: center;
  background: #f5f5f5;
  border-radius: 20px;
  padding: 5px;
}
.quantity-btn {
  background: white;
  border: none;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Unbounded', sans-serif;
  font-weight: 700;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transition: all 0.3s;
}
.quantity-btn:hover {
  background: #5f2b27;
  color: white;
}
.quantity-input {
  width: 40px;
  text-align: center;
  margin: 0 5px;
  border: none;
  background: transparent;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 1rem;
}
.delete-item {
  background: none;
  border: none;
  color: #777;
  cursor: pointer;
  font-size: 18px;
  transition: color 0.3s;
  padding: 5px;
  border-radius: 50%;
}
.delete-item:hover {
  color: #ff4d4d;
  background: rgba(255, 77, 77, 0.1);
}
.cart-summary {
  margin-top: auto;
  padding-top: 20px;
  border-top: 2px dashed #e0e0e0;
}
.cart-subtotal, .cart-shipping, .cart-total {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-family: 'Unbounded', sans-serif;
}
.cart-subtotal, .cart-shipping {
  font-size: 1rem;
  color: #666;
}
.cart-total {
  font-weight: 700;
  font-size: 1.4rem;
  margin: 15px 0;
  padding-top: 10px;
  border-top: 1px solid #e0e0e0;
  color: #5f2b27;
}
.checkout-btn {
  width: 100%;
  padding: 16px;
  background: linear-gradient(135deg, #5f2b27 0%, #7a3731 100%);
  color: white;
  border: none;
  border-radius: 10px;
  font-weight: 700;
  font-size: 1.1rem;
  cursor: pointer;
  transition: all 0.3s;
  font-family: 'Unbounded', sans-serif;
  letter-spacing: 1px;
  text-transform: uppercase;
  box-shadow: 0 4px 15px rgba(95, 43, 39, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  margin-top: 10px;
}
.checkout-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(95, 43, 39, 0.4);
}
.checkout-btn:active {
  transform: translateY(-1px);
}
.empty-cart {
  text-align: center;
  padding: 60px 20px;
  color: #777;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
}
.empty-cart i {
  font-size: 70px;
  margin-bottom: 20px;
  color: #e0e0e0;
}
.empty-cart h3 {
  font-family: 'Unbounded', sans-serif;
  font-size: 1.5rem;
  margin-bottom: 10px;
  color: #5f2b27;
}
.empty-cart p {
  margin-bottom: 25px;
  max-width: 300px;
}
.continue-shopping {
  padding: 12px 25px;
  background: #5f2b27;
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  font-family: 'Unbounded', sans-serif;
}
.continue-shopping:hover {
  background: #7a3731;
  transform: translateY(-2px);
}

/* Likes Sidebar */
.likes-sidebar {
  position: fixed;
  top: 0;
  left: -450px;
  width: 450px;
  height: 100vh;
  background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
  box-shadow: 5px 0 25px rgba(0, 0, 0, 0.15);
  z-index: 1000;
  transition: left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  padding: 0;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}
.likes-sidebar.active {
  left: 0;
}
.likes-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 25px 30px;
  background: #5f2b27;
  color: white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}
.likes-header h2 {
  font-family: 'Unbounded', sans-serif;
  color: white;
  font-weight: 700;
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  gap: 10px;
}
.likes-header h2 i {
  font-size: 1.5rem;
}
.close-likes {
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: white;
  transition: transform 0.3s;
}
.close-likes:hover {
  transform: scale(1.1);
}
.likes-content {
  flex: 1;
  padding: 25px 30px;
}
.likes-items {
  margin-bottom: 20px;
  max-height: 70vh;
  overflow-y: auto;
  padding-right: 10px;
}
.likes-items::-webkit-scrollbar {
  width: 6px;
}
.likes-items::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}
.likes-items::-webkit-scrollbar-thumb {
  background: #c1c1c1;
  border-radius: 10px;
}
.likes-items::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}
.like-item {
  display: flex;
  margin-bottom: 20px;
  padding: 15px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
  transition: transform 0.3s, box-shadow 0.3s;
  position: relative;
  overflow: hidden;
}
.like-item:hover {
  transform: translateY(-3px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}
.like-item::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: #FFD700;
}
.like-item img {
  width: 90px;
  height: 90px;
  object-fit: cover;
  border-radius: 8px;
  margin-right: 15px;
}
.like-item-details {
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.like-item-title {
  font-weight: 700;
  margin-bottom: 5px;
  font-family: 'Unbounded', sans-serif;
  font-size: 1.1rem;
  color: #333;
}
.like-item-price {
  color: #5f2b27;
  font-weight: 700;
  font-family: 'Unbounded', sans-serif;
  font-size: 1.1rem;
  margin-bottom: 10px;
}
.like-item-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 10px;
}
.add-to-cart-btn {
  background: #5f2b27;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 20px;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s;
  flex-grow: 1;
  margin-right: 10px;
  position: relative;
  overflow: hidden;
}

.add-to-cart-btn:hover {
  background: #7a3731;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(95, 43, 39, 0.3);
}

.icon .badge {
  position: absolute;
  top: -8px;
  right: -8px;
  background: linear-gradient(135deg, #FFD700, #FFA500);
  color: #5f2b27;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  border: 2px solid white;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
  font-family: 'Unbounded', sans-serif;
}

.icon .badge.hidden {
  display: none;
}
.remove-like {
  background: none;
  border: none;
  color: #777;
  cursor: pointer;
  font-size: 18px;
  transition: color 0.3s;
  padding: 5px;
  border-radius: 50%;
}
.remove-like:hover {
  color: #ff4d4d;
  background: rgba(255, 77, 77, 0.1);
}
.empty-likes {
  text-align: center;
  padding: 60px 20px;
  color: #777;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  flex: 1;
}
.empty-likes i {
  font-size: 70px;
  margin-bottom: 20px;
  color: #e0e0e0;
}
.empty-likes h3 {
  font-family: 'Unbounded', sans-serif;
  font-size: 1.5rem;
  margin-bottom: 10px;
  color: #5f2b27;
}
.empty-likes p {
  margin-bottom: 25px;
  max-width: 300px;
}
.browse-products {
  padding: 12px 25px;
  background: #5f2b27;
  color: white;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  font-family: 'Unbounded', sans-serif;
}
.browse-products:hover {
  background: #7a3731;
  transform: translateY(-2px);
}

/* Footer Styles */
footer {
  background:#556b2f; 
  color:white; 
  padding:60px 5%; 
  text-align:center; 
  position:relative;
  margin-top: 40px;
}

.footer-container {
  max-width:1200px; 
  margin:0 auto; 
  display:flex; 
  flex-wrap:wrap; 
  justify-content:center; 
  gap:40px;
}

.footer-column {
  flex: 1;
  min-width: 250px;
  text-align: left;
}

footer h3 {
  font-family:'Akira Expanded', sans-serif; 
  font-size:24px; 
  margin-bottom:20px;
  color: white;
}

footer ul {
  list-style:none; 
  padding:0; 
  font-family:'Unbounded', sans-serif; 
  font-size:16px;
}

footer ul li {
  margin-bottom: 12px;
}

footer a {
  color:white; 
  text-decoration:none; 
  transition:color 0.3s;
  display: inline-block;
}

footer a:hover {
  color: #FFD700;
  transform: translateX(5px);
}

.contact-info {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.contact-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
}

.contact-icon {
  color: white;
  font-size: 18px;
  width: 20px;
  margin-top: 2px;
}

.contact-text {
  flex: 1;
  font-family:'Unbounded', sans-serif; 
  font-size:16px; 
  line-height:1.5;
}

.footer-social {
  margin-top: 20px;
}

.footer-social h4 {
  font-family:'Unbounded', sans-serif; 
  font-size:18px; 
  margin-bottom:15px;
  color: white;
}

.social-icons {
  display:flex; 
  gap:15px; 
  font-size:20px;
}

.social-icons a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  transition: all 0.3s;
}

.social-icons a:hover {
  background: #FFD700;
  color: #333;
  transform: translateY(-3px);
}

.enquiries {
  margin-top: 20px;
}

.enquiries h4 {
  font-family:'Unbounded', sans-serif; 
  font-size:18px; 
  margin-bottom:15px;
  color: #FFD700;
}

.enquiries-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.enquiry-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 15px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 5px;
  transition: all 0.3s;
}

.enquiry-item:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateX(5px);
}

.enquiry-item i {
  color: #FFD700;
  font-size: 16px;
}

.enquiry-item a {
  color: white;
  text-decoration: none;
  font-family: 'Unbounded', sans-serif;
  font-size: 15px;
}

.enquiry-item:hover a {
  color: #FFD700;
}

.footer-bottom {
  margin-top: 40px;
  padding-top: 20px;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  width: 100%;
}

.footer-bottom p {
  font-family:'Unbounded', sans-serif; 
  font-size:14px; 
  color:rgba(255,255,255,0.8);
}

/* Login Modal */
.login-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  z-index: 1001;
  width: 400px;
  max-width: 90%;
  display: none;
}
.login-modal.active {
  display: block;
}
.login-header {
  text-align: center;
  margin-bottom: 25px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.login-header img {
  height: 70px;
  margin-bottom: 20px;
  order: -1;
}
.login-header h2 {
  font-family: 'Unbounded', sans-serif;
  color: #5f2b27;
  margin-bottom: 8px;
  font-weight: 700;
  font-size: 1.8rem;
  order: 1;
}
.login-header p {
  color: #666;
  margin-bottom: 0;
  order: 2;
}
.back-btn {
  position: absolute;
  top: 5px;
  left: 0;
  background: none;
  border: none;
  font-size: 20px;
  cursor: pointer;
  color: #777;
  display: none;
}
.back-btn.active {
  display: block;
}
.close-login {
  position: absolute;
  top: 15px;
  right: 15px;
  background: none;
  border: none;
  font-size: 24px;
  cursor: pointer;
  color: #777;
}
.login-form {
  display: none;
}
.signup-form {
  display: none;
}
.forgot-form {
  display: none;
}
.login-form.active, .signup-form.active, .forgot-form.active {
  display: block;
}
.login-form input, .signup-form input, .forgot-form input {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border: 1px solid #ddd;
  border-radius: 6px;
  font-family: 'Unbounded', sans-serif;
}
.login-btn, .signup-btn, .reset-btn {
  width: 100%;
  padding: 15px;
  background: #5f2b27;
  color: white;
  border: none;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
  transition: background 0.3s;
  margin-bottom: 12px;
  font-family: 'Unbounded', sans-serif;
  font-size: 1rem;
  letter-spacing: 1px;
}
.login-btn:hover, .signup-btn:hover, .reset-btn:hover {
  background: #7a3731;
}
.google-login {
  width: 100%;
  padding: 15px;
  background: white;
  color: #333;
  border: 1px solid #ddd;
  border-radius: 10px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  font-family: 'Unbounded', sans-serif;
  font-size: 1rem;
  letter-spacing: 1px;
}
.google-login:hover {
  background: #f5f5f5;
  transform: translateY(-2px);
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.login-footer {
  text-align: center;
  font-size: 14px;
  margin-top: 15px;
}
.login-footer a {
  color: #5f2b27;
  text-decoration: none;
  margin: 0 5px;
  font-weight: 600;
}
.login-footer a:hover {
  text-decoration: underline;
}

.terms-checkbox {
  display: flex;
  align-items: flex-start;
  margin-bottom: 15px;
  gap: 10px;
  padding: 8px 0;
}

.terms-checkbox input {
  margin-top: 3px;
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

.terms-checkbox label {
  font-size: 14px;
  line-height: 1.5;
  text-align: center;
  margin: 0;
  font-family: 'Unbounded', sans-serif;
  font-weight: 400;
  color: #333;
}

.terms-checkbox a {
  color: #5f2b27;
  text-decoration: underline;
  font-weight: 500;
}

.terms-checkbox a:hover {
  color: #7a3731;
}
  </style>
</head>
<body>
  <!-- Notification Bar -->
  <div class="notification-bar" id="notificationBar"><p>Free shipping on all orders over ₹599! Limited time offer.</p></div>

  <!-- Header Navigation -->
  <nav id="navBar">
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="shop.html" class="active">Shop</a></li>
      <li><a href="#">Collections</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
    <div class="logo">
      <img src="https://ik.imagekit.io/hexaanatura/Adobe%20Express%20-%20file%20(8)%20(1).png?updatedAt=1756876605119" alt="Logo of Natura Honey brand with stylized text and honeycomb design" />
    </div>
    <div class="nav-icons">
      <div class="icon" id="likeIcon">
        <i class="far fa-heart" aria-label="Favorites"></i>
        <span class="badge hidden" id="likeCount">0</span>
      </div>
      <div class="icon" id="cartIcon">
        <i class="fas fa-shopping-cart" aria-label="Shopping cart"></i>
        <span class="badge hidden" id="cartCount">0</span>
      </div>
      <div class="icon" id="whatsappIcon">
        <i class="fab fa-whatsapp" aria-label="WhatsApp"></i>
      </div>
      <div class="icon user-dropdown" id="userIcon">
        <i class="fas fa-user" aria-label="User account"></i>
        <div class="dropdown-menu" id="userDropdown">
          <a href="#" class="dropdown-item" id="profileLink">
            <i class="fas fa-user-circle"></i> Profile
          </a>
          <a href="#" class="dropdown-item" id="logoutLink">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Content Wrapper -->
  <div class="content-wrapper" style="margin-top: 165px;">
    <!-- Shop Header with Banner Effect -->
    <div class="shop-header">
      <div class="rectangle-banner" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50px; pointer-events: none; z-index: 1;" aria-hidden="true">
        <div class="banner-row slide-right" style="font-size:150px;">NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP</div>
        <div class="banner-row slide-left" style="font-size:150px;">NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP</div>
        <div class="banner-row slide-right" style="font-size:150px;">NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP</div>
        <div class="banner-row slide-left" style="font-size:150px;">NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP NATURA SHOP</div>
      </div>
      
      <h1>Our Shop</h1>
      <p>Discover our complete collection of pure, natural honey products. From raw honey to specialty infusions, we have something for every honey lover.</p>
    </div>
    
    <!-- Shop Controls -->
    <div class="shop-controls">
      <button class="filter-toggle" id="filterToggle">
        <i class="fas fa-filter"></i> Filters
      </button>
      
      <div class="sort-options">
        <label for="sortSelect">Sort by:</label>
        <select id="sortSelect">
          <option value="featured">Featured</option>
          <option value="price-low">Price: Low to High</option>
          <option value="price-high">Price: High to Low</option>
          <option value="rating">Highest Rated</option>
          <option value="newest">Newest First</option>
        </select>
      </div>
      
      <div class="view-options">
        <button class="view-option active" data-view="grid" aria-label="Grid view">
          <i class="fas fa-th"></i>
        </button>
      </div>
      
      <div class="results-count" id="resultsCount">Showing 6 of 6 products</div>
    </div>
    
    <!-- Filter Sidebar -->
    <div class="filter-sidebar" id="filterSidebar">
      <div class="filter-header">
        <h3>Filters</h3>
        <button class="close-filter" id="closeFilter">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="filter-group">
        <h4>Categories</h4>
        <ul class="filter-options">
          <li>
            <label>
              <input type="checkbox" name="category" value="crystal" checked> Crystal Pack
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="category" value="premium" checked> Premium Pet
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="category" value="raw"> Raw Honey
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="category" value="infused"> Infused Honey
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="category" value="creamed"> Creamed Honey
            </label>
          </li>
        </ul>
      </div>
      
      <div class="filter-group">
        <h4>Price Range</h4>
        <input type="range" min="0" max="1000" value="1000" class="price-range" id="priceRange">
        <div class="price-range-values">
          <span>₹0</span>
          <span>₹1000</span>
        </div>
      </div>
      
      <div class="filter-group">
        <h4>Weight</h4>
        <ul class="filter-options">
          <li>
            <label>
              <input type="checkbox" name="weight" value="50g"> 50g
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="weight" value="100g"> 100g
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="weight" value="250g"> 250g
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="weight" value="500g"> 500g
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="weight" value="1kg"> 1Kg
            </label>
          </li>
        </ul>
      </div>
      
      <div class="filter-group">
        <h4>Rating</h4>
        <ul class="filter-options">
          <li>
            <label>
              <input type="checkbox" name="rating" value="5"> 
              <span class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </span>
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="rating" value="4"> 
              <span class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i> & Up
              </span>
            </label>
          </li>
          <li>
            <label>
              <input type="checkbox" name="rating" value="3"> 
              <span class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i> & Up
              </span>
            </label>
          </li>
        </ul>
      </div>
      
      <button class="apply-filters" id="applyFilters">Apply Filters</button>
      <button class="clear-filters" id="clearFilters">Clear All Filters</button>
    </div>
    
    <!-- Products Grid View -->
    <div class="products-grid" id="productsGrid">
      <!-- Product 1 -->
      <div class="product-card" data-category="crystal" data-price="249" data-rating="4.5" data-weight="1kg" data-id="1">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_gyalrfgyalrfgyal.jpg?updatedAt=1757217705022" alt="Glass jar of Natura Honey Crystal Pack with golden honey inside and wooden honey dipper" />
          <div class="product-weight">1Kg</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey</h3>
          <div class="product-price">₹249</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
            <span class="rating-count">(128)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Product 2 -->
      <div class="product-card" data-category="crystal" data-price="449" data-rating="5" data-weight="500g" data-id="2">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo.jpg?updatedAt=1757217705026" alt="Glass jar of Natura Honey Crystal Pack with honeycomb pattern label and honey dripping" />
          <div class="product-weight">500g</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey</h3>
          <div class="product-price">₹449</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <span class="rating-count">(95)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Product 3 -->
      <div class="product-card" data-category="crystal" data-price="149" data-rating="4" data-weight="100g" data-id="3">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_imbwdcimbwdcimbw.jpg?updatedAt=1757217705115" alt="Close-up of Natura Honey Crystal Pack glass jar with honey and wooden spoon" />
          <div class="product-weight">100g</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey</h3>
          <div class="product-price">₹149</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
            </div>
            <span class="rating-count">(67)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Product 4 -->
      <div class="product-card" data-category="crystal" data-price="349" data-rating="5" data-weight="50g" data-id="4">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo4.jpg?updatedAt=1757217704864" alt="Premium Crystal Pack honey in decorative glass jar with golden lid" />
          <div class="product-weight">50g</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey</h3>
          <div class="product-price">₹349</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
            </div>
            <span class="rating-count">(42)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Product 5 -->
      <div class="product-card" data-category="premium" data-price="199" data-rating="4.5" data-weight="1kg" data-id="5">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_84o9o484o9o484o9.jpg?updatedAt=1757217704894" alt="Premium Pet Natura Honey product in glass jar with honey and pet-friendly label" />
          <div class="product-weight">1Kg</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey</h3>
          <div class="product-price">₹199</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
            <span class="rating-count">(56)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
      
      <!-- Product 6 -->
      <div class="product-card" data-category="premium" data-price="329" data-rating="4" data-weight="500g" data-id="6">
        <div class="product-image-container">
          <img src="https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_cbat36cbat36cbat.jpg?updatedAt=1757217704908" alt="Premium Pet Natura Honey product with honeycomb background and pet icon" />
          <div class="product-weight">500g</div>
          <div class="overlay">Quick View</div>
        </div>
        <div class="product-details">
          <h3 class="product-title">Natura Agmark Honey - Premium Pet</h3>
          <div class="product-price">₹329</div>
          <div class="product-rating">
            <div class="rating-stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
            </div>
            <span class="rating-count">(38)</span>
          </div>
          <div class="product-actions">
            <button class="add-to-cart-btn">Add to Cart</button>
            <button class="wishlist-btn">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Products List View (Hidden by default) -->
    <div class="products-list" id="productsList" style="display: none;">
      <!-- Product items will be dynamically added here when switching to list view -->
    </div>
    
    <!-- Pagination -->
    <div class="pagination" id="pagination">
      <button class="pagination-button" data-page="1">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="pagination-button active">1</button>
      <button class="pagination-button" data-page="2">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </div>

  <!-- Quick View Modal -->
  <div class="quick-view-modal" id="quickViewModal">
    <div class="quick-view-content">
      <button class="quick-view-close" id="quickViewClose">
        <i class="fas fa-times"></i>
      </button>
      <div class="quick-view-body">
        <div class="quick-view-image">
          <img src="" alt="" id="quickViewImage">
        </div>
        <div class="quick-view-details">
          <h2 class="quick-view-title" id="quickViewTitle"></h2>
          <div class="quick-view-price" id="quickViewPrice"></div>
          <div class="quick-view-rating" id="quickViewRating"></div>
          <div class="quick-view-weight" id="quickViewWeight"></div>
          <p class="quick-view-description">
            Our pure, natural honey is carefully sourced from pesticide-free environments. 
            This product is 100% pure with no additives or preservatives. Perfect as a natural sweetener, 
            for skin care, or as a delicious addition to your favorite recipes.
          </p>
          <div class="quick-view-actions">
            <button class="quick-view-add-to-cart">Add to Cart</button>
            <button class="quick-view-wishlist">
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Likes Sidebar -->
  <div class="likes-sidebar" id="likesSidebar">
    <div class="likes-header">
      <h2><i class="fas fa-heart"></i> Your Favorites</h2>
      <button class="close-likes" id="closeLikes">&times;</button>
    </div>
    <div class="likes-content">
      <div class="likes-items" id="likesItems">
      </div>
      <div class="empty-likes" id="emptyLikes">
        <i class="far fa-heart"></i>
        <h3>No favorites yet</h3>
        <p>Start adding products you love to your favorites list</p>
        <button class="browse-products" id="browseProducts">Browse Products</button>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2><i class="fas fa-shopping-cart"></i> Your Cart</h2>
      <button class="close-cart" id="closeCart">&times;</button>
    </div>
    <div class="cart-content">
      <div class="cart-items" id="cartItems">
      </div>
      <div class="empty-cart" id="emptyCart">
        <i class="fas fa-shopping-cart"></i>
        <h3>Your cart is empty</h3>
        <p>Add some delicious honey products to get started</p>
        <button class="continue-shopping" id="continueShopping">Continue Shopping</button>
      </div>
      <div class="cart-summary" id="cartSummary">
        <div class="cart-subtotal">
          <span>Subtotal:</span>
          <span>₹0</span>
        </div>
        <div class="cart-shipping">
          <span>Shipping:</span>
          <span>Calculated at checkout</span>
        </div>
        <div class="cart-total">
          <span>Total:</span>
          <span>₹0</span>
        </div>
        <button class="checkout-btn" id="checkoutBtn">
          <i class="fas fa-lock"></i> Proceed to Checkout
        </button>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <button class="close-login" id="closeLogin">&times;</button>
    <div class="login-header">
      <button class="back-btn" id="backBtn"><i class="fas fa-arrow-left"></i></button>
      <img src="https://ik.imagekit.io/hexaanatura/Adobe%20Express%20-%20file%20(8)%20(1).png?updatedAt=1756876605119" alt="Natura Honey Logo">
      <h2 id="modalTitle">Welcome Back</h2>
      <p id="modalSubtitle">Sign in to your account</p>
    </div>
    
    <form class="login-form" id="loginForm">
      <input type="email" placeholder="Email Address" required>
      <input type="password" placeholder="Password" required>
      <button type="button" class="login-btn" id="loginBtn">Login</button>
      <button type="button" class="google-login" id="googleLoginBtn">
        <i class="fab fa-google"></i> Sign in with Google
      </button>
    </form>
    
    <form class="signup-form" id="signupForm">
      <input type="text" placeholder="Full Name" required>
      <input type="email" placeholder="Email Address" required>
      <input type="password" placeholder="Password" required>
      <input type="password" placeholder="Confirm Password" required>
      <div class="terms-checkbox">
        <input type="checkbox" id="termsCheckbox" required>
        <label for="termsCheckbox">I agree to the <a href="#" target="_blank">Terms & Conditions</a> and <a href="#" target="_blank">Privacy Policy</a></label>
      </div>
      <button type="button" class="signup-btn" id="signupBtn">Create Account</button>
    </form>
    
    <form class="forgot-form" id="forgotForm">
      <input type="email" placeholder="Email Address" required>
      <button type="button" class="reset-btn" id="resetBtn">Reset Password</button>
    </form>
    
    <div class="login-footer" id="loginFooter">
      <a href="#" id="forgotPassword">Forgot Password?</a> | 
      <a href="#" id="signUp">Sign Up</a>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#">Amazon Store</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Services</a></li>
        </ul>
        
        <div class="footer-social">
          <h4>Follow Us</h4>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
      </div>

      <div class="footer-column">
        <h3>Contact Us</h3>
        <div class="contact-info">
          <div class="contact-item">
            <i class="fas fa-phone contact-icon"></i>
            <div class="contact-text">+91 98765 43210</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope contact-icon"></i>
            <div class="contact-text">info@hexaanatura.com</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-map-marker-alt contact-icon"></i>
            <div class="contact-text">Thalassery, Kannur, Kerala</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-clock contact-icon"></i>
            <div class="contact-text">Mon-Sat: 9:00 AM - 6:00 PM</div>
          </div>
        </div>
      </div>

      <div class="footer-column">
        <h3>Enquiries</h3>
        
        <div class="enquiries">
          <div class="enquiries-list">
            <div class="enquiry-item">
              <i class="fas fa-boxes"></i>
              <a href="mailto:bulkorders@hexaanatura.com">Bulk Orders</a>
            </div>
            <div class="enquiry-item">
              <i class="fas fa-handshake"></i>
              <a href="mailto:distributors@hexaanatura.com">Become Our Distributor</a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 Hexa Apiarium Pvt. Ltd. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Firebase Configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDuF6bdqprddsE871GuOablXPYqXI_HJxc",
      authDomain: "hexahoney-96aed.firebaseapp.com",
      projectId: "hexahoney-96aed",
      storageBucket: "hexahoney-96aed.firebasestorage.app",
      messagingSenderId: "700458850837",
      appId: "1:700458850837:web:0eb4fca98a5f4acc2d0c1c",
      measurementId: "G-MQGKK9709H"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    // DOM Elements
    const notificationBar = document.getElementById('notificationBar');
    const navBar = document.getElementById('navBar');
    const likeIcon = document.getElementById('likeIcon');
    const likeCount = document.getElementById('likeCount');
    const cartIcon = document.getElementById('cartIcon');
    const cartCount = document.getElementById('cartCount');
    const whatsappIcon = document.getElementById('whatsappIcon');
    const userIcon = document.getElementById('userIcon');
    const userDropdown = document.getElementById('userDropdown');
    const profileLink = document.getElementById('profileLink');
    const logoutLink = document.getElementById('logoutLink');
    
    // Quick View Modal Elements
    const quickViewModal = document.getElementById('quickViewModal');
    const quickViewClose = document.getElementById('quickViewClose');
    const quickViewImage = document.getElementById('quickViewImage');
    const quickViewTitle = document.getElementById('quickViewTitle');
    const quickViewPrice = document.getElementById('quickViewPrice');
    const quickViewRating = document.getElementById('quickViewRating');
    const quickViewWeight = document.getElementById('quickViewWeight');
    const quickViewAddToCartBtn = document.querySelector('.quick-view-add-to-cart');
    const quickViewWishlistBtn = document.querySelector('.quick-view-wishlist');
    
    // Likes Sidebar Elements
    const likesSidebar = document.getElementById('likesSidebar');
    const closeLikes = document.getElementById('closeLikes');
    const likesItems = document.getElementById('likesItems');
    const emptyLikes = document.getElementById('emptyLikes');
    const browseProducts = document.getElementById('browseProducts');
    
    // Cart Sidebar Elements
    const cartSidebar = document.getElementById('cartSidebar');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const emptyCart = document.getElementById('emptyCart');
    const cartSummary = document.getElementById('cartSummary');
    const cartTotal = document.querySelector('.cart-total span:last-child');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const continueShopping = document.getElementById('continueShopping');
    
    // Overlay
    const overlay = document.getElementById('overlay');
    
    // Login Modal Elements
    const loginModal = document.getElementById('loginModal');
    const closeLogin = document.getElementById('closeLogin');
    const backBtn = document.getElementById('backBtn');
    const modalTitle = document.getElementById('modalTitle');
    const modalSubtitle = document.getElementById('modalSubtitle');
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const forgotForm = document.getElementById('forgotForm');
    const loginBtn = document.getElementById('loginBtn');
    const signupBtn = document.getElementById('signupBtn');
    const resetBtn = document.getElementById('resetBtn');
    const googleLoginBtn = document.getElementById('googleLoginBtn');
    const forgotPassword = document.getElementById('forgotPassword');
    const signUp = document.getElementById('signUp');
    const loginFooter = document.getElementById('loginFooter');
    const termsCheckbox = document.getElementById('termsCheckbox');

    // Product Elements
    const productCards = document.querySelectorAll('.product-card');

    // Product data
    const products = [
      { 
        id: 1, 
        name: "Natura Agmark Honey", 
        price: 249, 
        weight: "1Kg",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_gyalrfgyalrfgyal.jpg?updatedAt=1757217705022",
        category: "crystal"
      },
      { 
        id: 2, 
        name: "Natura Agmark Honey", 
        price: 449, 
        weight: "500g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo.jpg?updatedAt=1757217705026",
        category: "crystal"
      },
      { 
        id: 3, 
        name: "Natura Agmark Honey", 
        price: 149, 
        weight: "100g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_imbwdcimbwdcimbw.jpg?updatedAt=1757217705115",
        category: "crystal"
      },
      { 
        id: 4, 
        name: "Natura Agmark Honey", 
        price: 349, 
        weight: "50g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo4.jpg?updatedAt=1757217704864",
        category: "crystal"
      },
      { 
        id: 5, 
        name: "Natura Agmark Honey", 
        price: 199, 
        weight: "1Kg",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_84o9o484o9o484o9.jpg?updatedAt=1757217704894",
        category: "premium"
      },
      { 
        id: 6, 
        name: "Natura Agmark Honey - Premium Pet", 
        price: 329, 
        weight: "500g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_cbat36cbat36cbat.jpg?updatedAt=1757217704908",
        category: "premium"
      }
    ];

    // State variables
    let currentUser = null;
    let likedProducts = [];
    let cartProducts = [];
    let currentModalView = 'login';
    let currentQuickViewProductId = null;

    // Initialize Firebase Auth State Listener
    auth.onAuthStateChanged((user) => {
      if (user) {
        currentUser = user;
        updateUIForUser(user);
        loadUserData(user.uid);
      } else {
        currentUser = null;
        updateUIForGuest();
      }
    });

    // Update UI for logged in user
    function updateUIForUser(user) {
      userIcon.classList.add('logged-in');
    }

    // Update UI for guest
    function updateUIForGuest() {
      userIcon.classList.remove('logged-in');
    }

    // Load user data from Firestore
    function loadUserData(userId) {
      // Load liked products
      db.collection('users').doc(userId).collection('likes').get()
        .then((querySnapshot) => {
          likedProducts = [];
          querySnapshot.forEach((doc) => {
            likedProducts.push(doc.data().productId);
          });
          updateLikeUI();
        })
        .catch((error) => {
          console.error("Error loading liked products:", error);
        });

      // Load cart items
      db.collection('users').doc(userId).collection('cart').get()
        .then((querySnapshot) => {
          cartProducts = [];
          querySnapshot.forEach((doc) => {
            cartProducts.push({
              id: doc.data().productId,
              quantity: doc.data().quantity
            });
          });
          updateCartUI();
        })
        .catch((error) => {
          console.error("Error loading cart items:", error);
        });
    }

    // Like icon functionality
    likeIcon.addEventListener('click', () => {
      likesSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // Close likes sidebar
    closeLikes.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Update likes UI
    function updateLikeUI() {
      if (likedProducts.length > 0) {
        likeCount.textContent = likedProducts.length;
        likeCount.classList.remove('hidden');
      } else {
        likeCount.classList.add('hidden');
      }
      
      if (likedProducts.length === 0) {
        emptyLikes.style.display = 'flex';
        likesItems.innerHTML = '';
      } else {
        emptyLikes.style.display = 'none';
        likesItems.innerHTML = '';
        
        likedProducts.forEach(productId => {
          const product = products.find(p => p.id === productId);
          if (product) {
            const likeItem = document.createElement('div');
            likeItem.className = 'like-item';
            likeItem.innerHTML = `
              <img src="${product.image}" alt="${product.name}">
              <div class="like-item-details">
                <div class="like-item-title">${product.name}</div>
                <div class="like-item-price">₹${product.price}</div>
                <div class="like-item-actions">
                  <button class="add-to-cart-btn" data-id="${product.id}">
                    <i class="fas fa-cart-plus"></i> Add to Cart
                  </button>
                  <button class="remove-like" data-id="${product.id}">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            `;
            likesItems.appendChild(likeItem);
          }
        });
        
        document.querySelectorAll('.remove-like').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            removeFromLikes(productId);
          });
        });
        
        document.querySelectorAll('.likes-items .add-to-cart-btn').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            addToCart(productId, 1);
          });
        });
      }
    }

    // Add to likes
    function addToLikes(productId) {
      if (!likedProducts.includes(productId)) {
        likedProducts.push(productId);
        
        // Save to Firestore if user is logged in
        if (currentUser) {
          db.collection('users').doc(currentUser.uid).collection('likes').doc(productId.toString()).set({
            productId: productId,
            addedAt: firebase.firestore.FieldValue.serverTimestamp()
          })
          .catch((error) => {
            console.error("Error adding to likes:", error);
          });
        } else {
          // Save to localStorage for guest users
          localStorage.setItem('guestLikes', JSON.stringify(likedProducts));
        }
        
        updateLikeUI();
        
        const heartIcon = likeIcon.querySelector('i');
        heartIcon.classList.remove('far');
        heartIcon.classList.add('fas');
        heartIcon.style.color = '#ff4d4d';
        
        // Update product card wishlist button if exists
        const productCard = document.querySelector(`.product-card[data-id="${productId}"]`);
        if (productCard) {
          const wishlistBtn = productCard.querySelector('.wishlist-btn');
          wishlistBtn.innerHTML = '<i class="fas fa-heart"></i>';
          wishlistBtn.style.background = '#ff4d4d';
          wishlistBtn.style.color = 'white';
        }
      }
    }

    // Remove from likes
    function removeFromLikes(productId) {
      likedProducts = likedProducts.filter(id => id !== productId);
      
      // Remove from Firestore if user is logged in
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('likes').doc(productId.toString()).delete()
        .catch((error) => {
          console.error("Error removing from likes:", error);
        });
      } else {
        // Update localStorage for guest users
        localStorage.setItem('guestLikes', JSON.stringify(likedProducts));
      }
      
      updateLikeUI();
      
      const productCard = document.querySelector(`.product-card[data-id="${productId}"]`);
      if (productCard) {
        const wishlistBtn = productCard.querySelector('.wishlist-btn');
        wishlistBtn.innerHTML = '<i class="far fa-heart"></i>';
        wishlistBtn.style.background = '#f1f1f1';
        wishlistBtn.style.color = '#333';
      }
      
      if (likedProducts.length === 0) {
        const heartIcon = likeIcon.querySelector('i');
        heartIcon.classList.remove('fas');
        heartIcon.classList.add('far');
        heartIcon.style.color = '';
      }
    }

    // Cart functionality
    cartIcon.addEventListener('click', () => {
      cartSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // Close cart sidebar
    closeCart.addEventListener('click', () => {
      cartSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Update cart UI
    function updateCartUI() {
      const totalItems = cartProducts.reduce((total, item) => total + item.quantity, 0);
      
      if (totalItems > 0) {
        cartCount.textContent = totalItems;
        cartCount.classList.remove('hidden');
      } else {
        cartCount.classList.add('hidden');
      }
      
      if (cartProducts.length === 0) {
        emptyCart.style.display = 'flex';
        cartItems.innerHTML = '';
        cartSummary.style.display = 'none';
      } else {
        emptyCart.style.display = 'none';
        cartItems.innerHTML = '';
        cartSummary.style.display = 'block';
        
        let subtotal = 0;
        
        cartProducts.forEach(item => {
          const product = products.find(p => p.id === item.id);
          if (product) {
            const itemTotal = product.price * item.quantity;
            subtotal += itemTotal;
            
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
              <img src="${product.image}" alt="${product.name}">
              <div class="cart-item-details">
                <div class="cart-item-title">${product.name}</div>
                <div class="cart-item-price">₹${product.price}</div>
                <div class="cart-item-controls">
                  <div class="cart-item-quantity">
                    <button class="quantity-btn minus" data-id="${product.id}">-</button>
                    <input type="text" class="quantity-input" value="${item.quantity}" data-id="${product.id}">
                    <button class="quantity-btn plus" data-id="${product.id}">+</button>
                  </div>
                  <button class="delete-item" data-id="${product.id}">
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </div>
            `;
            cartItems.appendChild(cartItem);
          }
        });
        
        document.querySelector('.cart-subtotal span:last-child').textContent = `₹${subtotal}`;
        cartTotal.textContent = `₹${subtotal}`;
        
        document.querySelectorAll('.quantity-btn.minus').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            updateCartQuantity(productId, -1);
          });
        });
        
        document.querySelectorAll('.quantity-btn.plus').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            updateCartQuantity(productId, 1);
          });
        });
        
        document.querySelectorAll('.delete-item').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            removeFromCart(productId);
          });
        });
        
        document.querySelectorAll('.quantity-input').forEach(input => {
          input.addEventListener('change', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            const newQuantity = parseInt(e.currentTarget.value) || 1;
            setCartQuantity(productId, newQuantity);
          });
        });
      }
    }

    // Enhanced Add to cart function with effects
    function addToCart(productId, quantity = 1) {
      const existingItem = cartProducts.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += quantity;
      } else {
        cartProducts.push({ id: productId, quantity });
      }
      
      // Save to Firestore if user is logged in
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).set({
          productId: productId,
          quantity: existingItem ? existingItem.quantity : quantity,
          updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        })
        .catch((error) => {
          console.error("Error adding to cart:", error);
        });
      } else {
        // Save to localStorage for guest users
        localStorage.setItem('guestCart', JSON.stringify(cartProducts));
      }
      
      updateCartUI();
      
      addCartVisualFeedback();
    }

    // Visual feedback for adding to cart
    function addCartVisualFeedback() {
      cartIcon.classList.add('cart-icon-bounce');
      cartCount.classList.add('badge-pulse');
      
      setTimeout(() => {
        cartIcon.classList.remove('cart-icon-bounce');
        cartCount.classList.remove('badge-pulse');
      }, 600);
    }

    // Update cart quantity
    function updateCartQuantity(productId, change) {
      const item = cartProducts.find(item => item.id === productId);
      
      if (item) {
        item.quantity += change;
        
        if (item.quantity <= 0) {
          removeFromCart(productId);
        } else {
          // Update Firestore if user is logged in
          if (currentUser) {
            db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).update({
              quantity: item.quantity,
              updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .catch((error) => {
              console.error("Error updating cart:", error);
            });
          } else {
            // Update localStorage for guest users
            localStorage.setItem('guestCart', JSON.stringify(cartProducts));
          }
          
          updateCartUI();
        }
      }
    }

    // Set cart quantity
    function setCartQuantity(productId, quantity) {
      const item = cartProducts.find(item => item.id === productId);
      
      if (item) {
        if (quantity <= 0) {
          removeFromCart(productId);
        } else {
          item.quantity = quantity;
          
          // Update Firestore if user is logged in
          if (currentUser) {
            db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).update({
              quantity: quantity,
              updatedAt: firebase.firestore.FieldValue.serverTimestamp()
            })
            .catch((error) => {
              console.error("Error updating cart:", error);
            });
          } else {
            // Update localStorage for guest users
            localStorage.setItem('guestCart', JSON.stringify(cartProducts));
          }
          
          updateCartUI();
        }
      }
    }

    // Remove from cart
    function removeFromCart(productId) {
      cartProducts = cartProducts.filter(item => item.id !== productId);
      
      // Remove from Firestore if user is logged in
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).delete()
        .catch((error) => {
          console.error("Error removing from cart:", error);
        });
      } else {
        // Update localStorage for guest users
        localStorage.setItem('guestCart', JSON.stringify(cartProducts));
      }
      
      updateCartUI();
    }

    // WhatsApp functionality
    whatsappIcon.addEventListener('click', () => {
      const phoneNumber = "919876543210";
      const message = "Hello, I'm interested in your honey products!";
      const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    });

    // User dropdown functionality
    userIcon.addEventListener('click', (e) => {
      e.stopPropagation();
      if (currentUser) {
        userDropdown.classList.toggle('active');
      } else {
        showLoginView();
        loginModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', () => {
      userDropdown.classList.remove('active');
    });

    // Profile link functionality
    profileLink.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      userDropdown.classList.remove('active');
      if (currentUser) {
        // Redirect to profile page or show profile modal
        alert('Profile page would open here');
      } else {
        showLoginView();
        loginModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });

    // Logout functionality
    logoutLink.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      auth.signOut().then(() => {
        alert('You have been logged out successfully!');
      }).catch((error) => {
        console.error("Error signing out:", error);
      });
    });

    // Close login modal
    closeLogin.addEventListener('click', () => {
      loginModal.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Back button functionality
    backBtn.addEventListener('click', () => {
      showLoginView();
    });

    // Overlay click to close modals
    overlay.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      cartSidebar.classList.remove('active');
      loginModal.classList.remove('active');
      quickViewModal.style.display = 'none';
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Quick View Modal Functionality
    quickViewClose.addEventListener('click', closeQuickView);
    quickViewModal.addEventListener('click', (e) => {
      if (e.target === quickViewModal) {
        closeQuickView();
      }
    });

    function closeQuickView() {
      quickViewModal.style.display = 'none';
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Quick View Add to Cart functionality
    quickViewAddToCartBtn.addEventListener('click', function() {
      if (currentQuickViewProductId) {
        // Add visual feedback
        this.classList.add('adding');
        
        // Add to cart
        addToCart(currentQuickViewProductId, 1);
        
        // Remove adding class after animation
        setTimeout(() => {
          this.classList.remove('adding');
        }, 400);
      }
    });

    // Quick View Wishlist functionality
    quickViewWishlistBtn.addEventListener('click', function() {
      if (currentQuickViewProductId) {
        if (likedProducts.includes(currentQuickViewProductId)) {
          removeFromLikes(currentQuickViewProductId);
          this.innerHTML = '<i class="far fa-heart"></i>';
          this.style.background = '#f1f1f1';
          this.style.color = '#333';
        } else {
          addToLikes(currentQuickViewProductId);
          this.innerHTML = '<i class="fas fa-heart"></i>';
          this.style.background = '#ff4d4d';
          this.style.color = 'white';
        }
      }
    });

    // Show login view
    function showLoginView() {
      currentModalView = 'login';
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
      forgotForm.classList.remove('active');
      backBtn.classList.remove('active');
      modalTitle.textContent = 'Welcome Back';
      modalSubtitle.textContent = 'Sign in to your account';
      loginFooter.style.display = 'block';
    }

    // Show signup view
    function showSignupView() {
      currentModalView = 'signup';
      loginForm.classList.remove('active');
      signupForm.classList.add('active');
      forgotForm.classList.remove('active');
      backBtn.classList.add('active');
      modalTitle.textContent = 'Create Account';
      modalSubtitle.textContent = 'Join Natura Honey today';
      loginFooter.style.display = 'none';
    }

    // Show forgot password view
    function showForgotView() {
      currentModalView = 'forgot';
      loginForm.classList.remove('active');
      signupForm.classList.remove('active');
      forgotForm.classList.add('active');
      backBtn.classList.add('active');
      modalTitle.textContent = 'Reset Password';
      modalSubtitle.textContent = 'Enter your email to reset your password';
      loginFooter.style.display = 'none';
    }

    // Login functionality
    loginBtn.addEventListener('click', () => {
      const email = loginForm.querySelector('input[type="email"]').value;
      const password = loginForm.querySelector('input[type="password"]').value;
      
      if (!email || !password) {
        alert('Please fill in all fields');
        return;
      }
      
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Login successful!');
        })
        .catch((error) => {
          console.error("Error signing in:", error);
          alert('Error signing in: ' + error.message);
        });
    });

    // Signup functionality
    signupBtn.addEventListener('click', () => {
      const name = signupForm.querySelector('input[type="text"]').value;
      const email = signupForm.querySelector('input[type="email"]').value;
      const password = signupForm.querySelectorAll('input[type="password"]')[0].value;
      const confirmPassword = signupForm.querySelectorAll('input[type="password"]')[1].value;
      
      if (!name || !email || !password || !confirmPassword) {
        alert('Please fill in all fields');
        return;
      }
      
      if (password !== confirmPassword) {
        alert('Passwords do not match');
        return;
      }
      
      if (!termsCheckbox.checked) {
        alert('Please agree to the Terms & Conditions and Privacy Policy');
        return;
      }
      
      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          
          // Update profile with display name
          return user.updateProfile({
            displayName: name
          }).then(() => {
            // Send email verification
            return user.sendEmailVerification();
          }).then(() => {
            // Create user document in Firestore
            return db.collection('users').doc(user.uid).set({
              displayName: name,
              email: email,
              createdAt: firebase.firestore.FieldValue.serverTimestamp()
            });
          });
        })
        .then(() => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Account created successfully! Please check your email for verification.');
        })
        .catch((error) => {
          console.error("Error creating account:", error);
          alert('Error creating account: ' + error.message);
        });
    });

    // Reset password functionality
    resetBtn.addEventListener('click', () => {
      const email = forgotForm.querySelector('input[type="email"]').value;
      
      if (!email) {
        alert('Please enter your email address');
        return;
      }
      
      auth.sendPasswordResetEmail(email)
        .then(() => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Password reset link sent to your email!');
        })
        .catch((error) => {
          console.error("Error sending reset email:", error);
          alert('Error sending reset email: ' + error.message);
        });
    });

    // Google login
    googleLoginBtn.addEventListener('click', () => {
      // Check if we're in a supported environment
      if (window.location.protocol !== 'https:' && window.location.protocol !== 'http:' && !window.location.hostname.includes('localhost')) {
        alert('Google login is not supported in this environment. Please use email/password login instead.');
        return;
      }
      
      try {
        const provider = new firebase.auth.GoogleAuthProvider();
        
        auth.signInWithPopup(provider)
          .then((result) => {
            const user = result.user;
            
            // Check if user exists in Firestore, if not create document
            return db.collection('users').doc(user.uid).get().then((doc) => {
              if (!doc.exists) {
                return db.collection('users').doc(user.uid).set({
                  displayName: user.displayName,
                  email: user.email,
                  createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
              }
            });
          })
          .then(() => {
            loginModal.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
            alert('Google login successful!');
          })
          .catch((error) => {
            console.error("Error with Google login:", error);
            if (error.code === 'auth/operation-not-supported-in-this-environment') {
              alert('Google login is not supported in this environment. Please use email/password login instead.');
            } else {
              alert('Error with Google login: ' + error.message);
            }
          });
      } catch (error) {
        console.error("Error with Google login:", error);
        alert('Google login is not available in this environment. Please use email/password login instead.');
      }
    });

    // Forgot password link
    forgotPassword.addEventListener('click', (e) => {
      e.preventDefault();
      showForgotView();
    });

    // Sign up link
    signUp.addEventListener('click', (e) => {
      e.preventDefault();
      showSignupView();
    });

    // Checkout button
    checkoutBtn.addEventListener('click', () => {
      if (cartProducts.length === 0) {
        alert('Your cart is empty!');
        return;
      }
      
      // Create order
      const order = {
        items: cartProducts,
        total: cartProducts.reduce((total, item) => {
          const product = products.find(p => p.id === item.id);
          return total + (product ? product.price * item.quantity : 0);
        }, 0),
        status: 'placed',
        createdAt: firebase.firestore.FieldValue.serverTimestamp()
      };
      
      // If user is logged in, save to Firestore
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('orders').add(order)
          .then((docRef) => {
            // Clear cart
            cartProducts.forEach(item => {
              db.collection('users').doc(currentUser.uid).collection('cart').doc(item.id.toString()).delete()
              .catch((error) => {
                console.error("Error clearing cart:", error);
              });
            });
            
            cartProducts = [];
            updateCartUI();
            
            alert('Order placed successfully! Order ID: ' + docRef.id.substring(0, 8));
            cartSidebar.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
          })
          .catch((error) => {
            console.error("Error creating order:", error);
            alert('Error placing order. Please try again.');
          });
      } else {
        // For guest users, just show success message
        cartProducts = [];
        updateCartUI();
      }
    });

      document.getElementById("continueShopping").addEventListener("click", function() {
    window.location.href = "shop.html";
  });

  document.getElementById("checkoutBtn").addEventListener("click", function() {
    window.location.href = "checkout.html";
  });

    // Continue shopping button
    continueShopping.addEventListener('click', () => {
      cartSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Browse products button
    browseProducts.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    // Initialize product cards with data-id attributes and event listeners
    function initializeProductCards() {
      productCards.forEach((card, index) => {
        const productId = parseInt(card.getAttribute('data-id'));
        
        const addToCartBtn = card.querySelector('.add-to-cart-btn');
        
        addToCartBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          addToCartBtn.classList.add('adding');
          
          addToCart(productId, 1);
          
          setTimeout(() => {
            addToCartBtn.classList.remove('adding');
          }, 400);
        });
        
        const wishlistBtn = card.querySelector('.wishlist-btn');
        wishlistBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          if (likedProducts.includes(productId)) {
            removeFromLikes(productId);
          } else {
            addToLikes(productId);
            wishlistBtn.innerHTML = '<i class="fas fa-heart"></i>';
            wishlistBtn.style.background = '#ff4d4d';
            wishlistBtn.style.color = 'white';
          }
        });
        
        if (likedProducts.includes(productId)) {
          wishlistBtn.innerHTML = '<i class="fas fa-heart"></i>';
          wishlistBtn.style.background = '#ff4d4d';
          wishlistBtn.style.color = 'white';
        }
        
        // Quick view functionality
        card.addEventListener('click', (e) => {
          if (!e.target.closest('.add-to-cart-btn') && !e.target.closest('.wishlist-btn')) {
            const product = products.find(p => p.id === productId);
            if (product) {
              quickViewImage.src = product.image;
              quickViewImage.alt = product.name;
              quickViewTitle.textContent = product.name;
              quickViewPrice.textContent = `₹${product.price}`;
              quickViewWeight.textContent = product.weight;
              
              // Get rating from the product card
              const ratingStars = card.querySelector('.rating-stars').innerHTML;
              const ratingCount = card.querySelector('.rating-count').textContent;
              
              quickViewRating.innerHTML = `
                <div class="rating-stars">
                  ${ratingStars}
                </div>
                <span class="rating-count">${ratingCount}</span>
              `;
              
              // Set current product ID for quick view
              currentQuickViewProductId = productId;
              
              // Update quick view wishlist button state
              if (likedProducts.includes(productId)) {
                quickViewWishlistBtn.innerHTML = '<i class="fas fa-heart"></i>';
                quickViewWishlistBtn.style.background = '#ff4d4d';
                quickViewWishlistBtn.style.color = 'white';
              } else {
                quickViewWishlistBtn.innerHTML = '<i class="far fa-heart"></i>';
                quickViewWishlistBtn.style.background = '#f1f1f1';
                quickViewWishlistBtn.style.color = '#333';
              }
              
              quickViewModal.style.display = 'flex';
              overlay.classList.add('active');
              document.body.style.overflow = 'hidden';
            }
          }
        });
      });
    }

    // Load guest data from localStorage
    function loadGuestData() {
      // Load liked products
      const guestLikes = localStorage.getItem('guestLikes');
      if (guestLikes) {
        likedProducts = JSON.parse(guestLikes);
        updateLikeUI();
      }
      
      // Load cart items
      const guestCart = localStorage.getItem('guestCart');
      if (guestCart) {
        cartProducts = JSON.parse(guestCart);
        updateCartUI();
      }
    }

    // Hide notification bar on scroll down
    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      if (scrollTop > 5) {
        if (!notificationBar.classList.contains('hidden')) {
          notificationBar.classList.add('hidden');
          navBar.style.top = '0';
          document.querySelector('.content-wrapper').style.marginTop = '130px';
        }
      } else {
        if (notificationBar.classList.contains('hidden')) {
          notificationBar.classList.remove('hidden');
          navBar.style.top = '40px';
          document.querySelector('.content-wrapper').style.marginTop = '165px';
        }
      }
      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
    }, { passive: true });

    // Filter sidebar functionality
    const filterToggle = document.getElementById('filterToggle');
    const filterSidebar = document.getElementById('filterSidebar');
    const closeFilter = document.getElementById('closeFilter');
    const applyFilters = document.getElementById('applyFilters');
    const clearFilters = document.getElementById('clearFilters');
    
    filterToggle.addEventListener('click', () => {
      filterSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });
    
    closeFilter.addEventListener('click', closeFilterSidebar);
    
    function closeFilterSidebar() {
      filterSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    // View options functionality
    const viewOptions = document.querySelectorAll('.view-option');
    const productsGrid = document.getElementById('productsGrid');
    const productsList = document.getElementById('productsList');
    
    viewOptions.forEach(option => {
      option.addEventListener('click', () => {
        viewOptions.forEach(opt => opt.classList.remove('active'));
        option.classList.add('active');
        
        if (option.dataset.view === 'grid') {
          productsGrid.style.display = 'grid';
          productsList.style.display = 'none';
        } else {
          productsGrid.style.display = 'none';
          productsList.style.display = 'flex';
          // In a real implementation, you would populate the list view with products
        }
      });
    });
    
    // Sort functionality
    const sortSelect = document.getElementById('sortSelect');
    sortSelect.addEventListener('change', sortProducts);
    
    function sortProducts() {
      const sortValue = sortSelect.value;
      const products = Array.from(document.querySelectorAll('.product-card'));
      
      products.sort((a, b) => {
        switch(sortValue) {
          case 'price-low':
            return parseFloat(a.dataset.price) - parseFloat(b.dataset.price);
          case 'price-high':
            return parseFloat(b.dataset.price) - parseFloat(a.dataset.price);
          case 'rating':
            return parseFloat(b.dataset.rating) - parseFloat(a.dataset.rating);
          case 'newest':
            // For demonstration, we'll sort by an arbitrary "newness" value
            return Math.random() - 0.5;
          default: // featured
            return Math.random() - 0.5;
        }
      });
      
      // Reappend sorted products to grid
      const productsGrid = document.getElementById('productsGrid');
      products.forEach(product => {
        productsGrid.appendChild(product);
      });
    }
    
    // Filter functionality
    applyFilters.addEventListener('click', filterProducts);
    clearFilters.addEventListener('click', clearAllFilters);
    
    function filterProducts() {
      const categoryFilters = Array.from(document.querySelectorAll('input[name="category"]:checked')).map(input => input.value);
      const priceMax = document.getElementById('priceRange').value;
      const weightFilters = Array.from(document.querySelectorAll('input[name="weight"]:checked')).map(input => input.value);
      const ratingFilters = Array.from(document.querySelectorAll('input[name="rating"]:checked')).map(input => parseInt(input.value));
      
      const products = document.querySelectorAll('.product-card');
      let visibleCount = 0;
      
      products.forEach(product => {
        const productCategory = product.dataset.category;
        const productPrice = parseFloat(product.dataset.price);
        const productWeight = product.dataset.weight;
        const productRating = parseFloat(product.dataset.rating);
        
        const categoryMatch = categoryFilters.length === 0 || categoryFilters.includes(productCategory);
        const priceMatch = productPrice <= priceMax;
        const weightMatch = weightFilters.length === 0 || weightFilters.includes(productWeight);
        const ratingMatch = ratingFilters.length === 0 || ratingFilters.some(r => productRating >= r);
        
        if (categoryMatch && priceMatch && weightMatch && ratingMatch) {
          product.style.display = 'flex';
          visibleCount++;
        } else {
          product.style.display = 'none';
        }
      });
      
      document.getElementById('resultsCount').textContent = `Showing ${visibleCount} of ${products.length} products`;
      closeFilterSidebar();
    }
    
    function clearAllFilters() {
      document.querySelectorAll('input[type="checkbox"]').forEach(input => {
        input.checked = false;
      });
      
      document.getElementById('priceRange').value = 1000;
      
      const products = document.querySelectorAll('.product-card');
      products.forEach(product => {
        product.style.display = 'flex';
      });
      
      document.getElementById('resultsCount').textContent = `Showing ${products.length} of ${products.length} products`;
    }
    
    // Pagination functionality
    const paginationButtons = document.querySelectorAll('.pagination-button');
    
    paginationButtons.forEach(button => {
      button.addEventListener('click', () => {
        if (button.dataset.page) {
          // Navigate to previous or next page
          const currentPage = document.querySelector('.pagination-button.active').textContent;
          let newPage;
          
          if (button.dataset.page === '1') {
            newPage = parseInt(currentPage) - 1;
          } else {
            newPage = parseInt(currentPage) + 1;
          }
          
          if (newPage >= 1 && newPage <= 5) {
            paginationButtons.forEach(btn => {
              if (btn.textContent == newPage) {
                btn.classList.add('active');
              } else if (!btn.dataset.page) {
                btn.classList.remove('active');
              }
            });
            
            // In a real implementation, you would load the products for the selected page
            document.getElementById('resultsCount').textContent = `Showing page ${newPage} of 5`;
          }
        } else {
          // Navigate to specific page
          paginationButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          
          // In a real implementation, you would load the products for the selected page
          document.getElementById('resultsCount').textContent = `Showing page ${button.textContent} of 5`;
        }
      });
    });

    // Initialize everything
    initializeProductCards();
    loadGuestData();
  </script>
</body>
</html>
