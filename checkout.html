<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes" />
  <title>Checkout - Natura Honey</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.cdnfonts.com/css/akira-expanded" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Shadow+Into+Light&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: white;
      color: #333;
      line-height: 1.6;
      font-family: 'Unbounded', sans-serif;
      scroll-padding-top: 120px;
      transition: all 0.3s ease;
      width: 100%;
      overflow-x: hidden;
    }

    /* Mobile First Styles */
    @media (max-width: 767px) {
      body {
        font-size: 14px;
      }
      
      nav {
        padding: 12px 5% !important;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
      }
      
      .mobile-menu-btn {
        display: block !important;
        background: none;
        border: none;
        font-size: 20px;
        color: #333;
        cursor: pointer;
        margin-right: 10px;
        order: 1;
        flex-shrink: 0;
        z-index: 101;
        position: relative;
      }
      
      .logo {
        position: static !important;
        transform: none !important;
        order: 2;
        flex-grow: 1;
        display: flex;
        justify-content: center;
      }
      
      .logo img {
        height: 35px !important;
        margin: 0 auto;
      }
      
      .nav-icons {
        margin-left: 0 !important;
        display: flex;
        align-items: center;
        gap: 8px !important;
        order: 3;
        flex-shrink: 0;
      }
      
      .icon {
        margin-left: 0 !important;
        font-size: 18px;
      }
      
      .nav-links {
        position: fixed;
        top: 0;
        left: -100%;
        width: 80%;
        height: 100vh;
        background: white;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        padding: 80px 25px 30px;
        transition: left 0.3s ease;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
        z-index: 100;
        overflow-y: auto;
      }
      
      .nav-links.active {
        left: 0;
      }
      
      .nav-links li {
        margin: 0 0 15px 0;
        width: 100%;
      }
      
      .nav-links a {
        font-size: 14px;
        padding: 10px 0;
        display: block;
        width: 100%;
        border-bottom: 1px solid #f0f0f0;
      }
      
      .content-wrapper {
        margin-top: 100px !important;
      }
      
      .checkout-section {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
        padding: 0 5% !important;
        margin: 20px auto !important;
      }
      
      .checkout-title {
        font-size: 1.8rem !important;
        margin-bottom: 20px !important;
      }
      
      .checkout-form, .checkout-summary {
        padding: 20px !important;
        border-radius: 15px !important;
      }
      
      .form-row {
        grid-template-columns: 1fr !important;
        gap: 0 !important;
      }
      
      .form-section {
        margin-bottom: 25px !important;
      }
      
      .section-title {
        font-size: 1.2rem !important;
        margin-bottom: 15px !important;
      }
      
      .address-card {
        padding: 15px !important;
      }
      
      .payment-method {
        padding: 15px !important;
      }
      
      .order-summary-row {
        padding: 10px 0 !important;
      }
      
      .order-summary-row.total {
        font-size: 1.2rem !important;
      }
      
      .checkout-btn {
        padding: 14px !important;
        font-size: 1rem !important;
      }
      
      .cart-sidebar, .likes-sidebar {
        width: 100% !important;
        height: 85vh !important;
        top: auto !important;
        bottom: 0 !important;
        border-radius: 20px 20px 0 0 !important;
      }
      
      .cart-sidebar {
        right: -100% !important;
      }
      
      .cart-sidebar.active {
        right: 0 !important;
      }
      
      .likes-sidebar {
        left: -100% !important;
      }
      
      .likes-sidebar.active {
        left: 0 !important;
      }
      
      .login-modal {
        width: 90% !important;
        padding: 20px !important;
      }
      
      .footer-container {
        flex-direction: column;
        gap: 25px;
      }
      
      .footer-column {
        min-width: 100%;
        text-align: left;
      }
      
      .contact-info {
        align-items: left;
      }
      
      .nav-links {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
      }
      
      .cart-header, .likes-header {
        border-radius: 20px 20px 0 0 !important;
      }
      
      .cart-content, .likes-content {
        padding: 15px 20px !important;
      }
      
      .cart-items, .likes-items {
        max-height: 50vh !important;
      }
    }

    /* Tablet Styles */
    @media (min-width: 768px) and (max-width: 1023px) {
      body {
        font-size: 15px;
      }
      
      nav {
        padding: 15px 5% !important;
        flex-wrap: nowrap;
        justify-content: space-between;
        align-items: center;
      }
      
      .mobile-menu-btn {
        display: block !important;
        background: none;
        border: none;
        font-size: 22px;
        color: #333;
        cursor: pointer;
        margin-right: 12px;
        order: 1;
        flex-shrink: 0;
        z-index: 101;
        position: relative;
      }
      
      .logo {
        position: static !important;
        transform: none !important;
        order: 2;
        flex-grow: 1;
        display: flex;
        justify-content: center;
      }
      
      .logo img {
        height: 45px !important;
        margin: 0 auto;
      }
      
      .nav-icons {
        margin-left: 0 !important;
        display: flex;
        align-items: center;
        gap: 12px !important;
        order: 3;
        flex-shrink: 0;
      }
      
      .icon {
        margin-left: 0 !important;
        font-size: 20px;
      }
      
      .nav-links {
        position: fixed;
        top: 0;
        left: -100%;
        width: 60%;
        height: 100vh;
        background: white;
        flex-direction: column;
        justify-content: flex-start;
        align-items: flex-start;
        padding: 90px 30px 30px;
        transition: left 0.3s ease;
        box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
        z-index: 100;
        overflow-y: auto;
      }
      
      .nav-links.active {
        left: 0;
      }
      
      .nav-links li {
        margin: 0 0 18px 0;
        width: 100%;
      }
      
      .nav-links a {
        font-size: 15px;
        padding: 11px 0;
        display: block;
        width: 100%;
        border-bottom: 1px solid #f0f0f0;
      }
      
      .content-wrapper {
        margin-top: 130px !important;
      }
      
      .checkout-section {
        grid-template-columns: 1fr !important;
        gap: 30px !important;
        padding: 0 5% !important;
        margin: 30px auto !important;
      }
      
      .checkout-title {
        font-size: 2.2rem !important;
        margin-bottom: 25px !important;
      }
      
      .checkout-form, .checkout-summary {
        padding: 30px !important;
      }
      
      .cart-sidebar, .likes-sidebar {
        width: 380px !important;
      }
      
      .nav-links {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
      }
    }

    /* Desktop Styles */
    @media (min-width: 1024px) {
      .content-wrapper {
        margin-top: 165px;
      }
      
      .mobile-menu-btn {
        display: none !important;
      }
      
      .nav-links {
        display: flex !important;
      }
    }

    /* Notification Bar */
    .notification-bar {
      background: #e7d90f;
      color: #fff;
      text-align: center;
      padding: 10px;
      font-weight: 600;
      font-size: 10px;
      letter-spacing: 1px;
      position: fixed;
      top: 0px;
      left: 0;
      right: 0;
      z-index: 50;
      transition: transform 0.3s ease, opacity 0.3s ease;
      will-change: transform, opacity;
    }
    .notification-bar::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.4);
      z-index: 1;
    }
    .notification-bar p {
      position: relative;
      z-index: 2;
    }
    .notification-bar.hidden {
      transform: translateY(-100%);
      opacity: 0;
      pointer-events: none;
    }

    nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 5%;
      background: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      position: fixed;
      top: 43px;
      left: 0;
      right: 0;
      z-index: 60;
      font-family: 'Nirmala UI', sans-serif;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: top 0.3s ease;
      flex-direction: row !important;
    }
    .logo {
      position: absolute;
      left: 50%;
      top: 30px;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 65;
    }
    .logo img {
      height: 70px;
      width: auto;
      cursor: pointer;
      transition: transform 0.3s;
    }
    .logo img:hover {
      transform: scale(1.05);
    }
    .nav-links {
      display: flex;
      list-style: none;
    }
    .nav-links li {
      margin: 0 15px;
      position: relative;
    }
    .nav-links a {
      text-decoration: none;
      color: #333;
      font-weight: 600;
      font-size: 16px;
      transition: all 0.3s;
      padding: 5px 0;
    }
    .nav-links a:hover,
    .nav-links a:focus {
      color: #5f2b27;
      transform: scale(1.1);
    }
    .nav-links a.active {
      color: #5f2b27;
      border-bottom: 2px solid #ff4d4d;
    }

    .mobile-menu-btn {
      display: none;
    }

    .content-wrapper {
      margin-top: 165px;
    }

    .nav-icons {
      display: flex;
      align-items: center;
      margin-left: auto;
      gap: 35px;
    }
    .icon {
      font-size: 20px;
      color: #333;
      transition: color 0.3s;
      cursor: pointer;
      position: relative;
    }
    .icon:hover {
      color: #5f2b27;
    }

    .user-dropdown {
      position: relative;
    }

    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      min-width: 200px;
      z-index: 100;
      display: none;
      overflow: hidden;
      margin-top: 10px;
      border: 1px solid #f0f0f0;
      animation: dropdownFadeIn 0.3s ease;
    }

    @keyframes dropdownFadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .dropdown-menu.active {
      display: block;
    }

    .dropdown-item {
      display: flex;
      align-items: center;
      padding: 15px 20px;
      text-decoration: none;
      color: #333;
      transition: all 0.3s ease;
      border-bottom: 1px solid #f8f8f8;
      font-family: 'Unbounded', sans-serif;
      font-weight: 500;
      font-size: 15px;
    }

    .dropdown-item:last-child {
      border-bottom: none;
    }

    .dropdown-item:hover {
      background: linear-gradient(135deg, #5f2b27 0%, #7a3731 100%);
      color: white;
      transform: translateX(5px);
    }

    .dropdown-item i {
      margin-right: 12px;
      width: 20px;
      text-align: center;
      font-size: 16px;
      transition: transform 0.3s ease;
    }

    .dropdown-item:hover i {
      transform: scale(1.2);
    }

    .user-icon-wrapper {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .user-icon-wrapper:hover {
      background: rgba(95, 43, 39, 0.1);
    }

    .user-icon-wrapper.logged-in {
      background: #5f2b27;
      color: white;
    }

    .user-icon-wrapper.logged-in:hover {
      background: #7a3731;
      transform: scale(1.1);
    }

    .user-icon-wrapper .fa-user {
      font-size: 18px;
      transition: all 0.3s ease;
    }

    .user-icon-wrapper:hover .fa-user {
      transform: scale(1.1);
    }

    .user-notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #FFD700;
      color: #333;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      border: 2px solid white;
    }

    .icon .badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #5f2b27;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      border: 2px solid white;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
      font-family: 'Unbounded', sans-serif;
    }

    .icon .badge.hidden {
      display: none;
    }

    /* Checkout Section Styles */
    .checkout-section {
      max-width: 1400px;
      margin: 50px auto;
      padding: 0 5%;
      display: grid;
      grid-template-columns: 1fr 500px;
      gap: 50px;
    }
    
    .checkout-title {
      font-family: 'Akira Expanded', sans-serif;
      font-size: 42px;
      color: #5f2b27;
      margin-bottom: 30px;
      text-align: center;
      grid-column: 1 / -1;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .checkout-form {
      background: #f8f3e6;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
    }
    
    .checkout-summary {
      background: #f8f3e6;
      border-radius: 20px;
      padding: 40px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
      align-self: start;
      position: sticky;
      top: 20px;
    }
    
    .form-section {
      margin-bottom: 35px;
      position: relative;
    }
    
    .section-title {
      font-family: 'Unbounded', sans-serif;
      font-size: 20px;
      color: #5f2b27;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e7d90f;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .login-btn {
      position: absolute;
      top: 0;
      right: 0;
      background: transparent;
      color: #5f2b27;
      border: none;
      font-family: 'Unbounded', sans-serif;
      font-size: 14px;
      cursor: pointer;
      text-decoration: underline;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .form-group {
      margin-bottom: 20px;
      position: relative;
    }
    
    .form-group label {
      display: block;
      font-family: 'Unbounded', sans-serif;
      margin-bottom: 8px;
      color: #333;
      font-size: 14px;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-family: 'Quicksand', sans-serif;
      font-size: 16px;
      transition: all 0.3s;
      background: white;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      border-color: #5f2b27;
      outline: none;
      box-shadow: 0 0 0 2px rgba(95, 43, 39, 0.1);
    }
    
    .form-group input:disabled {
      background-color: #f5f5f5;
      color: #777;
      cursor: not-allowed;
    }
    
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    
    .required::after {
      content: "*";
      color: #e74c3c;
      margin-left: 4px;
    }
    
    /* Shipping Address Card Design */
    .address-card {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      border: 1px solid #e0e0e0;
    }
    
    /* Payment Method Styles */
    .payment-method {
      display: flex;
      align-items: center;
      padding: 18px;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      background: white;
      margin-bottom: 15px;
    }
    
    .payment-method:hover {
      border-color: #5f2b27;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
    }
    
    .payment-method.active {
      border-color: #5f2b27;
      background: rgba(95, 43, 39, 0.05);
    }
    
    .payment-icon {
      margin-right: 15px;
      font-size: 24px;
      color: #5f2b27;
      width: 30px;
      text-align: center;
    }
    
    .payment-details {
      flex: 1;
    }
    
    .payment-title {
      font-family: 'Unbounded', sans-serif;
      font-size: 16px;
      margin-bottom: 5px;
    }
    
    .payment-description {
      font-family: 'Quicksand', sans-serif;
      color: #666;
      font-size: 14px;
    }
    
    .payment-price {
      font-family: 'Unbounded', sans-serif;
      font-size: 16px;
      color: #5f2b27;
    }
    
    .payment-notice {
      background: #f1f1f1;
      padding: 15px;
      margin-top: 15px;
      border-radius: 10px;
      text-align: center;
      font-size: 13px;
      font-family: 'Quicksand', sans-serif;
    }
    
    /* Order Items */
    .order-items {
      margin-bottom: 25px;
    }
    
    .order-item {
      display: flex;
      align-items: center;
      padding: 18px 0;
      border-bottom: 1px solid #eee;
      flex-direction: column;
      align-items: flex-start;
      gap: 10px;
    }
    
    .order-item:last-child {
      border-bottom: none;
    }
    
    .order-item-row {
      display: flex;
      align-items: center;
      width: 100%;
      justify-content: space-between;
    }
    
    .order-item-image {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      object-fit: cover;
      margin-right: 20px;
    }

@media (min-width: 1024px) {
  .notification-bar {
    font-size: 13px !important;
    padding: 12px !important;
  }
}

@media (min-width: 768px) and (max-width: 1023px) {
  .notification-bar {
    font-size: 9px !important;
  }
}

@media (max-width: 767px) {
  .notification-bar {
    font-size: 8px !important;
    padding: 8px 10px !important;
  }
}

    
    .order-item-details {
      flex: 1;
    }
    
    .order-item-name {
      font-family: 'Unbounded', sans-serif;
      font-size: 16px;
      margin-bottom: 5px;
      font-weight: 600;
    }
    
    .order-item-weight {
      font-family: 'Unbounded', sans-serif;
      font-size: 14px;
      color: #777;
    }
    
    .order-item-price {
      font-family: 'Unbounded', sans-serif;
      font-size: 16px;
      color: #5f2b27;
      font-weight: 600;
    }
    
    .order-item-quantity {
      font-family: 'Unbounded', sans-serif;
      font-size: 14px;
      color: #777;
      margin-top: 5px;
    }
    
    .order-summary-row {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #eee;
    }
    
    .order-summary-row.total {
      font-family: 'Unbounded', sans-serif;
      font-size: 18px;
      color: #5f2b27;
      border-bottom: none;
      margin-top: 10px;
      padding-top: 15px;
      border-top: 2px solid #e7d90f;
    }
    
@media (max-width: 1023px) {
  .form-section {
    position: relative;
    padding-top: 50px;
  }
  
  .login-btn {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    margin-top: 0 !important;
    transform: none !important;
  }
}

@media (min-width: 1024px) {
  .login-btn {
    position: absolute;
    top: 0;
    right: 0;
  }
}

.quantity-controls {
  display: flex;
  align-items: center;
  gap: 8px;
}

.quantity-btn-checkout {
  background: #ffffff;
  border: 1px solid #5f2b27;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 12px;
  transition: all 0.2s ease;
  color: #5f2b27;
}

.quantity-btn-checkout:hover:not(:disabled) {
  background: #5f2b27;
  color: white;
}

.quantity-btn-checkout:disabled {
  opacity: 0.4;
  cursor: not-allowed;
  border-color: #ccc;
  color: #ccc;
}

.quantity-input-checkout {
  width: 40px;
  height: 24px;
  text-align: center;
  border: 1px solid #e5e5e5;
  border-radius: 12px;
  background: #fafafa;
  font-family: 'Unbounded', sans-serif;
  font-weight: 600;
  font-size: 12px;
  padding: 0 4px;
}

.quantity-input-checkout:focus {
  border-color: #5f2b27;
  background: white;
  outline: none;
}

.quantity-input-checkout:invalid {
  border-color: #ff4444;
  background: #fffafa;
}

.order-item-quantity {
  font-family: 'Unbounded', sans-serif;
  font-size: 12px;
  color: #666;
  display: flex;
  align-items: center;
  gap: 10px;
}

.order-item-row {
  display: flex;
  align-items: center;
  width: 100%;
  justify-content: space-between;
  gap: 12px;
  padding: 8px 0;
  border-bottom: 1px solid #f0f0f0;
}

.order-item-details {
  flex: 1;
  min-width: 0;
}

.order-item-price {
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
  color: #5f2b27;
  font-weight: 600;
  white-space: nowrap;
  margin-left: 12px;
}

.order-item-name {
  font-family: 'Unbounded', sans-serif;
  font-size: 14px;
  margin-bottom: 4px;
  font-weight: 600;
  word-wrap: break-word;
  overflow-wrap: break-word;
  color: #333;
}

.order-item-weight {
  font-family: 'Unbounded', sans-serif;
  font-size: 12px;
  color: #888;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

@media (max-width: 767px) {
  .order-item-row {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    padding: 6px 0;
  }
  
  .order-item-price {
    margin-left: 0;
    align-self: flex-end;
    font-size: 13px;
  }
}
    .promo-code {
      margin: 25px 0;
    }
    
    .promo-input-group {
      display: flex;
      gap: 10px;
    }
    
    .promo-input {
      flex: 1;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-family: 'Quicksand', sans-serif;
      font-size: 16px;
    }
    
    .apply-btn {
      background: #5f2b27;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 10px;
      font-family: 'Unbounded', sans-serif;
      cursor: pointer;
      transition: background 0.3s;
    }
    
    .apply-btn:hover {
      background: #7a3731;
    }
    
    .promo-message {
      margin-top: 10px;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      font-family: 'Quicksand', sans-serif;
      text-align: center;
      display: none;
    }
    
    .promo-success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    
    .promo-error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }
    
    /* Checkout Button */
    .checkout-btn {
      background: #5f2b27;
      color: white;
      border: none;
      padding: 16px;
      border-radius: 12px;
      font-family: 'Unbounded', sans-serif;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s;
      width: 100%;
      margin-top: 20px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .checkout-btn:hover {
      background: #7a3731;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(95, 43, 39, 0.3);
    }
    
    .security-notice {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 15px;
      color: #777;
      font-size: 14px;
    }
    
    .security-notice i {
      color: #5f2b27;
      margin-right: 8px;
    }
    
    .continue-shopping {
      display: block;
      text-align: center;
      margin-top: 20px;
      color: #5f2b27;
      font-family: 'Unbounded', sans-serif;
      text-decoration: none;
      transition: color 0.3s;
    }
    
    .continue-shopping:hover {
      color: #7a3731;
      text-decoration: underline;
    }
    
    .login-modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      z-index: 1001;
      width: 400px;
      max-width: 90%;
      display: none;
    }
    .login-modal.active {
      display: block;
    }
    .login-header {
      text-align: center;
      margin-bottom: 25px;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .login-header img {
      height: 70px;
      margin-bottom: 20px;
      order: -1;
    }
    .login-header h2 {
      font-family: 'Unbounded', sans-serif;
      color: #5f2b27;
      margin-bottom: 8px;
      font-weight: 700;
      font-size: 1.8rem;
      order: 1;
    }
    .login-header p {
      color: #666;
      margin-bottom: 0;
      order: 2;
    }
    .back-btn {
      position: absolute;
      top: 5px;
      left: 0;
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #777;
      display: none;
    }
    .back-btn.active {
      display: block;
    }
    .close-login {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #777;
    }
    .login-form {
      display: none;
    }
    .signup-form {
      display: none;
    }
    .forgot-form {
      display: none;
    }
    .login-form.active, .signup-form.active, .forgot-form.active {
      display: block;
    }
    .login-form input, .signup-form input, .forgot-form input {
      width: 100%;
      padding: 12px;
      margin-bottom: 15px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-family: 'Unbounded', sans-serif;
    }
    .login-btn-modal, .signup-btn, .reset-btn {
      width: 100%;
      padding: 15px;
      background: #5f2b27;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: background 0.3s;
      margin-bottom: 12px;
      font-family: 'Unbounded', sans-serif;
      font-size: 1rem;
      letter-spacing: 1px;
    }
    .login-btn-modal:hover, .signup-btn:hover, .reset-btn:hover {
      background: #7a3731;
    }
    .google-login {
      width: 100%;
      padding: 15px;
      background: white;
      color: #333;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      font-family: 'Unbounded', sans-serif;
      font-size: 1rem;
      letter-spacing: 1px;
    }
    .google-login:hover {
      background: #f5f5f5;
      transform: translateY(-2px);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .login-footer {
      text-align: center;
      font-size: 14px;
      margin-top: 15px;
    }
    .login-footer a {
      color: #5f2b27;
      text-decoration: none;
      margin: 0 5px;
      font-weight: 600;
    }
    .login-footer a:hover {
      text-decoration: underline;
    }

    /* Footer Styles */
    footer {
      background:#556b2f; 
      color:white; 
      padding:60px 5%; 
      text-align:center; 
      position:relative;
      margin-top: 40px;
    }

    .footer-container {
      max-width:1200px; 
      margin:0 auto; 
      display:flex; 
      flex-wrap:wrap; 
      justify-content:center; 
      gap:40px;
    }

    .footer-column {
      flex: 1;
      min-width: 250px;
      text-align: left;
    }

    footer h3 {
      font-family:'Akira Expanded', sans-serif; 
      font-size:24px; 
      margin-bottom:20px;
      color: white;
    }

    footer ul {
      list-style:none; 
      padding:0; 
      font-family:'Unbounded', sans-serif; 
      font-size:16px;
    }

    footer ul li {
      margin-bottom: 12px;
    }

    footer a {
      color:white; 
      text-decoration:none; 
      transition:color 0.3s;
      display: inline-block;
    }

    footer a:hover {
      color: #FFD700;
      transform: translateX(5px);
    }

    .contact-info {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .contact-item {
      display: flex;
      align-items: flex-start;
      gap: 12px;
    }

    .contact-icon {
      color: white;
      font-size: 18px;
      width: 20px;
      margin-top: 2px;
    }

    .contact-text {
      flex: 1;
      font-family:'Unbounded', sans-serif; 
      font-size:16px; 
      line-height:1.5;
    }

    .footer-social {
      margin-top: 20px;
    }

    .footer-social h4 {
      font-family:'Unbounded', sans-serif; 
      font-size:18px; 
      margin-bottom:15px;
      color: white;
    }

    .social-icons {
      display:flex; 
      gap:15px; 
      font-size:20px;
    }

    .social-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      transition: all 0.3s;
    }

    .social-icons a:hover {
      background: #FFD700;
      color: #333;
      transform: translateY(-3px);
    }

    .enquiries {
      margin-top: 20px;
    }

    .enquiries h4 {
      font-family:'Unbounded', sans-serif; 
      font-size:18px; 
      margin-bottom:15px;
      color: #FFD700;
    }

    .enquiries-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .enquiry-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 15px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 5px;
      transition: all 0.3s;
    }

    .enquiry-item:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateX(5px);
    }

    .enquiry-item i {
      color: #FFD700;
      font-size: 16px;
    }

    .enquiry-item a {
      color: white;
      text-decoration: none;
      font-family: 'Unbounded', sans-serif;
      font-size: 15px;
    }

    .enquiry-item:hover a {
      color: #FFD700;
    }

    .footer-bottom {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      width: 100%;
    }

    .footer-bottom p {
      font-family:'Unbounded', sans-serif; 
      font-size:14px; 
      color:rgba(255,255,255,0.8);
    }

    /* Cart and Likes Sidebars */
    .cart-sidebar {
      position: fixed;
      top: 0;
      right: -450px;
      width: 450px;
      height: 100vh;
      background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
      box-shadow: -5px 0 25px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      padding: 0;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .cart-sidebar.active {
      right: 0;
    }
    .cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 30px;
      background: #5f2b27;
      color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .cart-header h2 {
      font-family: 'Unbounded', sans-serif;
      color: white;
      font-weight: 700;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .cart-header h2 i {
      font-size: 1.5rem;
    }
    .close-cart {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: white;
      transition: transform 0.3s;
    }
    .close-cart:hover {
      transform: scale(1.1);
    }
    .cart-content {
      flex: 1;
      padding: 25px 30px;
      display: flex;
      flex-direction: column;
    }
    .cart-items {
      margin-bottom: 20px;
      max-height: 55vh;
      overflow-y: auto;
      padding-right: 10px;
    }
    .cart-items::-webkit-scrollbar {
      width: 6px;
    }
    .cart-items::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    .cart-items::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 10px;
    }
    .cart-items::-webkit-scrollbar-thumb:hover {
      background: #a8a8a8;
    }
    .cart-item {
      display: flex;
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }
    .cart-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .cart-item::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: #FFD700;
    }
    .cart-item img {
      width: 90px;
      height: 90px;
      object-fit: cover;
      border-radius: 8px;
      margin-right: 15px;
    }
    .cart-item-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .cart-item-title {
      font-weight: 700;
      margin-bottom: 5px;
      font-family: 'Unbounded', sans-serif;
      font-size: 1.1rem;
      color: #333;
    }
    .cart-item-price {
      color: #5f2b27;
      font-weight: 700;
      font-family: 'Unbounded', sans-serif;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }
    .cart-item-controls {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .cart-item-quantity {
      display: flex;
      align-items: center;
      background: #f5f5f5;
      border-radius: 20px;
      padding: 5px;
    }
    .quantity-btn {
      background: white;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Unbounded', sans-serif;
      font-weight: 700;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      transition: all 0.3s;
    }
    .quantity-btn:hover {
      background: #5f2b27;
      color: white;
    }
    .quantity-input {
      width: 40px;
      text-align: center;
      margin: 0 5px;
      border: none;
      background: transparent;
      font-family: 'Unbounded', sans-serif;
      font-weight: 600;
      font-size: 1rem;
    }
    .delete-item {
      background: none;
      border: none;
      color: #777;
      cursor: pointer;
      font-size: 18px;
      transition: color 0.3s;
      padding: 5px;
      border-radius: 50%;
    }
    .delete-item:hover {
      color: #ff4d4d;
      background: rgba(255, 77, 77, 0.1);
    }
    .cart-summary {
      margin-top: auto;
      padding-top: 20px;
      border-top: 2px dashed #e0e0e0;
    }
    .cart-subtotal, .cart-shipping, .cart-total {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      font-family: 'Unbounded', sans-serif;
    }
    .cart-subtotal, .cart-shipping {
      font-size: 1rem;
      color: #666;
    }
    .cart-total {
      font-weight: 700;
      font-size: 1.4rem;
      margin: 15px 0;
      padding-top: 10px;
      border-top: 1px solid #e0e0e0;
      color: #5f2b27;
    }
    .checkout-btn-sidebar {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, #5f2b27 0%, #7a3731 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Unbounded', sans-serif;
      letter-spacing: 1px;
      text-transform: uppercase;
      box-shadow: 0 4px 15px rgba(95, 43, 39, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 10px;
    }
    .checkout-btn-sidebar:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(95, 43, 39, 0.4);
    }
    .checkout-btn-sidebar:active {
      transform: translateY(-1px);
    }
    .empty-cart {
      text-align: center;
      padding: 60px 20px;
      color: #777;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
    }
    .empty-cart i {
      font-size: 70px;
      margin-bottom: 20px;
      color: #e0e0e0;
    }
    .empty-cart h3 {
      font-family: 'Unbounded', sans-serif;
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #5f2b27;
    }
    .empty-cart p {
      margin-bottom: 25px;
      max-width: 300px;
    }
    .continue-shopping-sidebar {
      padding: 12px 25px;
      background: #5f2b27;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Unbounded', sans-serif;
    }
    .continue-shopping-sidebar:hover {
      background: #7a3731;
      transform: translateY(-2px);
    }

    .likes-sidebar {
      position: fixed;
      top: 0;
      left: -450px;
      width: 450px;
      height: 100vh;
      background: linear-gradient(135deg, #fff 0%, #f9f9f9 100%);
      box-shadow: 5px 0 25px rgba(0, 0, 0, 0.15);
      z-index: 1000;
      transition: left 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      padding: 0;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }
    .likes-sidebar.active {
      left: 0;
    }
    .likes-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 30px;
      background: #5f2b27;
      color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .likes-header h2 {
      font-family: 'Unbounded', sans-serif;
      color: white;
      font-weight: 700;
      font-size: 1.8rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .likes-header h2 i {
      font-size: 1.5rem;
    }
    .close-likes {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: white;
      transition: transform 0.3s;
    }
    .close-likes:hover {
      transform: scale(1.1);
    }
    .likes-content {
      flex: 1;
      padding: 25px 30px;
    }
    .likes-items {
      margin-bottom: 20px;
      max-height: 70vh;
      overflow-y: auto;
      padding-right: 10px;
    }
    .likes-items::-webkit-scrollbar {
      width: 6px;
    }
    .likes-items::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    .likes-items::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 10px;
    }
    .likes-items::-webkit-scrollbar-thumb:hover {
      background: #a8a8a8;
    }
    .like-item {
      display: flex;
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
      transition: transform 0.3s, box-shadow 0.3s;
      position: relative;
      overflow: hidden;
    }
    .like-item:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    .like-item::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: #FFD700;
    }
    .like-item img {
      width: 90px;
      height: 90px;
      object-fit: cover;
      border-radius: 8px;
      margin-right: 15px;
    }
    .like-item-details {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .like-item-title {
      font-weight: 700;
      margin-bottom: 5px;
      font-family: 'Unbounded', sans-serif;
      font-size: 1.1rem;
      color: #333;
    }
    .like-item-price {
      color: #5f2b27;
      font-weight: 700;
      font-family: 'Unbounded', sans-serif;
      font-size: 1.1rem;
      margin-bottom: 10px;
    }
    .like-item-actions {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: 10px;
    }
    .add-to-cart-btn {
      background: #5f2b27;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      font-family: 'Unbounded', sans-serif;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s;
      flex-grow: 1;
      margin-right: 10px;
      position: relative;
      overflow: hidden;
    }

    .add-to-cart-btn:hover {
      background: #7a3731;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(95, 43, 39, 0.3);
    }

    .remove-like {
      background: none;
      border: none;
      color: #777;
      cursor: pointer;
      font-size: 18px;
      transition: color 0.3s;
      padding: 5px;
      border-radius: 50%;
    }
    .remove-like:hover {
      color: #ff4d4d;
      background: rgba(255, 77, 77, 0.1);
    }
    .empty-likes {
      text-align: center;
      padding: 60px 20px;
      color: #777;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
    }
    .empty-likes i {
      font-size: 70px;
      margin-bottom: 20px;
      color: #e0e0e0;
    }
    .empty-likes h3 {
      font-family: 'Unbounded', sans-serif;
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #5f2b27;
    }
    .empty-likes p {
      margin-bottom: 25px;
      max-width: 300px;
    }
    .browse-products {
      padding: 12px 25px;
      background: #5f2b27;
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Unbounded', sans-serif;
    }
    .browse-products:hover {
      background: #7a3731;
      transform: translateY(-2px);
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 999;
      display: none;
    }
    
    .terms-checkbox {
      display: flex;
      align-items: flex-start;
      margin-bottom: 15px;
      gap: 10px;
      padding: 8px 0;
    }

    .terms-checkbox input {
      margin-top: 3px;
      flex-shrink: 0;
      width: 16px;
      height: 16px;
    }

    .terms-checkbox label {
      font-size: 14px;
      line-height: 1.5;
      text-align: center;
      margin: 0;
      font-family: 'Unbounded', sans-serif;
      font-weight: 400;
      color: #333;
    }

    .terms-checkbox a {
      color: #5f2b27;
      text-decoration: underline;
      font-weight: 500;
    }

    .terms-checkbox a:hover {
      color: #7a3731;
    }
  </style>
</head>
<body>
  <!-- Notification Bar -->
  <div class="notification-bar" id="notificationBar"><p>Free shipping on all orders over ₹599! Limited time offer.</p></div>

  <!-- Navigation Bar -->
  <nav id="navBar">
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Home</a></li>
      <li><a href="shop.html">Shop</a></li>
      <li><a href="#">Collections</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
    <div class="logo">
      <img src="https://ik.imagekit.io/hexaanatura/Adobe%20Express%20-%20file%20(8)%20(1).png?updatedAt=1756876605119" alt="Logo of Natura Honey brand with stylized text and honeycomb design" />
    </div>
    <div class="nav-icons">
      <div class="icon" id="likeIcon">
        <i class="far fa-heart" aria-label="Favorites"></i>
        <span class="badge hidden" id="likeCount">0</span>
      </div>
      <div class="icon" id="cartIcon">
        <i class="fas fa-shopping-cart" aria-label="Shopping cart"></i>
        <span class="badge hidden" id="cartCount">0</span>
      </div>
      <div class="icon" id="whatsappIcon">
        <i class="fab fa-whatsapp" aria-label="WhatsApp"></i>
      </div>
      <div class="icon user-dropdown" id="userIcon">
        <i class="fas fa-user" aria-label="User account"></i>
        <div class="dropdown-menu" id="userDropdown">
          <a href="#" class="dropdown-item" id="profileLink">
            <i class="fas fa-user-circle"></i> Profile
          </a>
          <a href="#" class="dropdown-item" id="logoutLink">
            <i class="fas fa-sign-out-alt"></i> Logout
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Favorites Sidebar -->
  <div class="likes-sidebar" id="likesSidebar">
    <div class="likes-header">
      <h2><i class="fas fa-heart"></i> Your Favorites</h2>
      <button class="close-likes" id="closeLikes">&times;</button>
    </div>
    <div class="likes-content">
      <div class="likes-items" id="likesItems">
      </div>
      <div class="empty-likes" id="emptyLikes">
        <i class="far fa-heart"></i>
        <h3>No favorites yet</h3>
        <p>Start adding products you love to your favorites list</p>
        <button class="browse-products" id="browseProducts">Browse Products</button>
      </div>
    </div>
  </div>

  <!-- Cart Sidebar -->
  <div class="cart-sidebar" id="cartSidebar">
    <div class="cart-header">
      <h2><i class="fas fa-shopping-cart"></i> Your Cart</h2>
      <button class="close-cart" id="closeCart">&times;</button>
    </div>
    <div class="cart-content">
      <div class="cart-items" id="cartItems"></div>
      <div class="empty-cart" id="emptyCart">
        <i class="fas fa-shopping-cart"></i>
        <h3>Your cart is empty</h3>
        <p>Add some delicious honey products to get started</p>
        <button class="continue-shopping-sidebar" id="continueShopping">Continue Shopping</button>
      </div>
      <div class="cart-summary" id="cartSummary">
        <div class="cart-subtotal">
          <span>Subtotal:</span>
          <span>₹0</span>
        </div>
        <div class="cart-shipping">
          <span>Shipping:</span>
          <span>Calculated at checkout</span>
        </div>
        <div class="cart-total">
          <span>Total:</span>
          <span>₹0</span>
        </div>
        <button class="checkout-btn-sidebar" id="checkoutBtn">
          <i class="fas fa-lock"></i> Proceed to Checkout
        </button>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>

  <!-- Login Modal -->
  <div class="login-modal" id="loginModal">
    <button class="close-login" id="closeLogin">&times;</button>
    <div class="login-header">
      <button class="back-btn" id="backBtn"><i class="fas fa-arrow-left"></i></button>
      <img src="https://ik.imagekit.io/hexaanatura/Adobe%20Express%20-%20file%20(8)%20(1).png?updatedAt=1756876605119" alt="Natura Honey Logo">
      <h2 id="modalTitle">Welcome Back</h2>
      <p id="modalSubtitle">Sign in to your account</p>
    </div>
    
    <form class="login-form" id="loginForm">
      <input type="email" placeholder="Email Address" required>
      <input type="password" placeholder="Password" required>
      <button type="button" class="login-btn-modal" id="loginBtn">Login</button>
      <button type="button" class="google-login" id="googleLoginBtn">
        <i class="fab fa-google"></i> Sign in with Google
      </button>
    </form>
    
    <form class="signup-form" id="signupForm">
      <input type="text" placeholder="Full Name" required>
      <input type="email" placeholder="Email Address" required>
      <input type="password" placeholder="Password" required>
      <input type="password" placeholder="Confirm Password" required>
      <div class="terms-checkbox">
        <input type="checkbox" id="termsCheckbox" required>
        <label for="termsCheckbox">I agree to the <a href="#" target="_blank">Terms & Conditions</a> and <a href="#" target="_blank">Privacy Policy</a></label>
      </div>
      <button type="button" class="signup-btn" id="signupBtn">Create Account</button>
    </form>
    
    <form class="forgot-form" id="forgotForm">
      <input type="email" placeholder="Email Address" required>
      <button type="button" class="reset-btn" id="resetBtn">Reset Password</button>
    </form>
    
    <div class="login-footer" id="loginFooter">
      <a href="#" id="forgotPassword">Forgot Password?</a> | 
      <a href="#" id="signUp">Sign Up</a>
    </div>
  </div>

  <!-- Main Content -->
  <div class="content-wrapper" id="mainContent">
    <!-- Checkout Section -->
    <div class="checkout-section">
      <h1 class="checkout-title">Secure Checkout</h1>
      
      <!-- Checkout Form -->
      <div class="checkout-form">
        <!-- Contact Information -->
        <div class="form-section">
          <h2 class="section-title">Contact Information</h2>
          <button class="login-btn" id="loginBtnCheckout">Login</button>
          <div class="form-group">
            <label for="email" class="required">Email Address</label>
            <input type="email" id="email" placeholder="your@email.com" required>
          </div>
        </div>
        
        <!-- Shipping Address -->
        <div class="form-section">
          <h2 class="section-title">Shipping Address</h2>
          <div class="address-card">
            <div class="form-row">
              <div class="form-group">
                <label for="firstName" class="required">First Name</label>
                <input type="text" id="firstName" placeholder="John" required>
              </div>
              <div class="form-group">
                <label for="lastName" class="required">Last Name</label>
                <input type="text" id="lastName" placeholder="Doe" required>
              </div>
            </div>
            
            <div class="form-group">
              <label for="address" class="required">Address</label>
              <input type="text" id="address" placeholder="123 Main Street" required>
            </div>
            
            <div class="form-group">
              <label for="apartment">Apartment, Suite, etc. (Optional)</label>
              <input type="text" id="apartment" placeholder="Apt 4B">
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="city" class="required">City</label>
                <input type="text" id="city" placeholder="New Delhi" required>
              </div>
              <div class="form-group">
                <label for="state" class="required">State</label>
                <select id="state" required>
                  <option value="">Select State</option>
                  <option value="AL">Alabama</option>
                  <option value="AK">Alaska</option>
                  <option value="AZ">Arizona</option>
                  <option value="AR">Arkansas</option>
                  <option value="CA">California</option>
                </select>
              </div>
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="zipCode" class="required">PIN Code</label>
                <input type="text" id="zipCode" placeholder="10001" required>
              </div>
              <div class="form-group">
                <label for="country" class="required">Country</label>
                <select id="country" required>
                  <option value="IN" selected>India</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label for="phone" class="required">Phone Number</label>
              <div style="display:flex; gap:5px;">
                <input type="text" value="+91" readonly style="width:75px; text-align:center;">
                <input type="tel" id="phone" placeholder="Enter 10-digit number" required>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Shipping Method -->
        <div class="form-section">
          <h2 class="section-title">Shipping Method</h2>
          <div class="payment-method active" id="standard-shipping">
            <div class="payment-icon">
              <i class="fas fa-truck"></i>
            </div>
            <div class="payment-details">
              <div class="payment-title">Standard Shipping</div>
              <div class="payment-description">Delivery in 7-15 business days</div>
            </div>
            <div class="payment-price">FREE</div>
          </div>
        </div>
        
        <!-- Payment Method -->
        <div class="form-section">
          <h2 class="section-title">Payment Method</h2>
          <div class="payment-method active">
            <div class="payment-icon">
              <i class="fas fa-credit-card"></i>
            </div>
            <div class="payment-details">
              <div class="payment-title">Razorpay Payment Gateway</div>
              <div class="payment-description">UPI, Cards & NetBanking</div>
            </div>
          </div>
          <div class="payment-notice">
            After clicking "Pay now", you will be redirected to RazorPay Payment Gateway to complete your purchase securely.
          </div>
        </div>
      </div>
      
      <!-- Order Summary -->
      <div class="checkout-summary">
        <h2 class="section-title">Order Summary</h2>
        
        <!-- Order Items -->
        <div class="order-items" id="orderItems">
        </div>
        
        <!-- Promo Code -->
        <div class="promo-code">
          <div class="promo-input-group">
            <input type="text" class="promo-input" placeholder="Promo Code">
            <button class="apply-btn">Apply</button>
          </div>
          <div class="promo-message promo-success" id="promoSuccess">
            Promo code applied successfully!
          </div>
          <div class="promo-message promo-error" id="promoError">
            Invalid promo code. Please try again.
          </div>
        </div>
        
        <!-- Order Summary Details -->
        <div class="order-summary-details">
          <div class="order-summary-row">
            <span>Subtotal</span>
            <span id="subtotal">₹0</span>
          </div>
          <div class="order-summary-row" id="discountRow" style="display: none;">
            <span>Discount</span>
            <span id="discountAmount">-₹0</span>
          </div>
          <div class="order-summary-row">
            <span>Shipping</span>
            <span>FREE</span>
          </div>
          <div class="order-summary-row total">
            <span>Total</span>
            <span id="total">₹0</span>
          </div>
        </div>
        
        <!-- Checkout Button -->
        <button class="checkout-btn">Pay Now</button>
        
        <!-- Security Notice -->
        <div class="security-notice">
          <i class="fas fa-lock"></i>
          <span>Your payment information is secure and encrypted</span>
        </div>
        
        <!-- Continue Shopping Link -->
        <a href="index.html" class="continue-shopping">
          <i class="fas fa-arrow-left"></i> Continue Shopping
        </a>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="#">Amazon Store</a></li>
          <li><a href="#">Privacy Policy</a></li>
          <li><a href="#">Terms of Services</a></li>
        </ul>
        
        <div class="footer-social">
          <h4>Follow Us</h4>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
      </div>

      <div class="footer-column">
        <h3>Contact Us</h3>
        <div class="contact-info">
          <div class="contact-item">
            <i class="fas fa-phone contact-icon"></i>
            <div class="contact-text">+91 98765 43210</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope contact-icon"></i>
            <div class="contact-text">info@hexaanatura.com</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-map-marker-alt contact-icon"></i>
            <div class="contact-text">Thalassery, Kannur, Kerala</div>
          </div>
          <div class="contact-item">
            <i class="fas fa-clock contact-icon"></i>
            <div class="contact-text">Mon-Sat: 9:00 AM - 6:00 PM</div>
          </div>
        </div>
      </div>

      <div class="footer-column">
        <h3>Enquiries</h3>
        
        <div class="enquiries">
          <div class="enquiries-list">
            <div class="enquiry-item">
              <i class="fas fa-boxes"></i>
              <a href="mailto:bulkorders@hexaanatura.com">Bulk Orders</a>
            </div>
            <div class="enquiry-item">
              <i class="fas fa-handshake"></i>
              <a href="mailto:distributors@hexaanatura.com">Become Our Distributor</a>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 Hexa Apiarium Pvt. Ltd. All rights reserved.</p>
      </div>
    </div>
  </footer>

<script>
    const firebaseConfig = {
      apiKey: "AIzaSyDuF6bdqprddsE871GuOablXPYqXI_HJxc",
      authDomain: "hexahoney-96aed.firebaseapp.com",
      projectId: "hexahoney-96aed",
      storageBucket: "hexahoney-96aed.firebasestorage.app",
      messagingSenderId: "700458850837",
      appId: "1:700458850837:web:0eb4fca98a5f4acc2d0c1c",
      measurementId: "G-MQGKK9709H"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    const notificationBar = document.getElementById('notificationBar');
    const navBar = document.getElementById('navBar');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const navLinks = document.getElementById('navLinks');
    const likeIcon = document.getElementById('likeIcon');
    const likeCount = document.getElementById('likeCount');
    const cartIcon = document.getElementById('cartIcon');
    const cartCount = document.getElementById('cartCount');
    const whatsappIcon = document.getElementById('whatsappIcon');
    const userIcon = document.getElementById('userIcon');
    const userDropdown = document.getElementById('userDropdown');
    const profileLink = document.getElementById('profileLink');
    const logoutLink = document.getElementById('logoutLink');
    
    const likesSidebar = document.getElementById('likesSidebar');
    const closeLikes = document.getElementById('closeLikes');
    const likesItems = document.getElementById('likesItems');
    const emptyLikes = document.getElementById('emptyLikes');
    const browseProducts = document.getElementById('browseProducts');
    
    const cartSidebar = document.getElementById('cartSidebar');
    const closeCart = document.getElementById('closeCart');
    const cartItems = document.getElementById('cartItems');
    const emptyCart = document.getElementById('emptyCart');
    const cartSummary = document.getElementById('cartSummary');
    const cartTotal = document.querySelector('.cart-total span:last-child');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const continueShopping = document.getElementById('continueShopping');
    
    const overlay = document.getElementById('overlay');
    const loginModal = document.getElementById('loginModal');
    const closeLogin = document.getElementById('closeLogin');
    const backBtn = document.getElementById('backBtn');
    const modalTitle = document.getElementById('modalTitle');
    const modalSubtitle = document.getElementById('modalSubtitle');
    
    const loginForm = document.getElementById('loginForm');
    const signupForm = document.getElementById('signupForm');
    const forgotForm = document.getElementById('forgotForm');
    const loginBtn = document.getElementById('loginBtn');
    const signupBtn = document.getElementById('signupBtn');
    const resetBtn = document.getElementById('resetBtn');
    const googleLoginBtn = document.getElementById('googleLoginBtn');
    const forgotPassword = document.getElementById('forgotPassword');
    const signUp = document.getElementById('signUp');
    const loginFooter = document.getElementById('loginFooter');
    const termsCheckbox = document.getElementById('termsCheckbox');
    const loginBtnCheckout = document.getElementById('loginBtnCheckout');
    const emailInput = document.getElementById('email');
    const orderItems = document.getElementById('orderItems');

    const products = [
      { 
        id: 1, 
        name: "Natura Agmark Honey", 
        price: 249, 
        weight: "1Kg",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_gyalrfgyalrfgyal.jpg?updatedAt=1757217705022",
        category: "crystal"
      },
      { 
        id: 2, 
        name: "Natura Agmark Honey", 
        price: 449, 
        weight: "500g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo.jpg?updatedAt=1757217705026",
        category: "crystal"
      },
      { 
        id: 3, 
        name: "Natura Agmark Honey", 
        price: 149, 
        weight: "100g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_imbwdcimbwdcimbw.jpg?updatedAt=1757217705115",
        category: "crystal"
      },
      { 
        id: 4, 
        name: "Natura Agmark Honey", 
        price: 349, 
        weight: "50g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_i8jo3di8jo3di8jo4.jpg?updatedAt=1757217704864",
        category: "crystal"
      },
      { 
        id: 5, 
        name: "Natura Agmark Honey", 
        price: 199, 
        weight: "1Kg",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_84o9o484o9o484o9.jpg?updatedAt=1757217704894",
        category: "premium"
      },
      { 
        id: 6, 
        name: "Natura Agmark Honey", 
        price: 329, 
        weight: "500g",
        image: "https://ik.imagekit.io/hexaanatura/Gemini_Generated_Image_cbat36cbat36cbat.jpg?updatedAt=1757217704908",
        category: "premium"
      }
    ];

    let currentUser = null;
    let likedProducts = [];
    let cartProducts = [];
    let userOrders = [];
    let isLoggedIn = false;
    let userEmail = '';
    let currentDiscount = 0;
    let originalTotal = 0;
    let currentModalView = 'login';

    auth.onAuthStateChanged((user) => {
      if (user) {
        currentUser = user;
        updateUIForUser(user);
        loadUserData(user.uid);
        isLoggedIn = true;
        userEmail = user.email;
        loginBtnCheckout.textContent = 'Logout';
        emailInput.value = userEmail;
        emailInput.disabled = true;
      } else {
        currentUser = null;
        updateUIForGuest();
        isLoggedIn = false;
        userEmail = '';
        loginBtnCheckout.textContent = 'Login';
        emailInput.disabled = false;
        emailInput.value = '';
        emailInput.placeholder = 'your@email.com';
      }
    });

    function updateUIForUser(user) {
      userIcon.classList.add('logged-in');
      document.getElementById('user-name').textContent = user.displayName || 'User';
      document.getElementById('user-email').textContent = user.email;
      profileLink.style.display = 'block';
    }

    function updateUIForGuest() {
      userIcon.classList.remove('logged-in');
      profileLink.style.display = 'block';
      document.getElementById('user-name').textContent = 'User Name';
      document.getElementById('user-email').textContent = 'user@example.com';
    }

    function loadUserData(userId) {
      db.collection('users').doc(userId).collection('likes').get()
        .then((querySnapshot) => {
          likedProducts = [];
          querySnapshot.forEach((doc) => {
            likedProducts.push(doc.data().productId);
          });
          updateLikeUI();
        })
        .catch((error) => {
          console.error("Error loading liked products:", error);
        });

      db.collection('users').doc(userId).collection('cart').get()
        .then((querySnapshot) => {
          cartProducts = [];
          querySnapshot.forEach((doc) => {
            cartProducts.push({
              id: doc.data().productId,
              quantity: doc.data().quantity
            });
          });
          updateCartUI();
          updateOrderSummary();
        })
        .catch((error) => {
          console.error("Error loading cart items:", error);
        });
    }

// Update the updateCartQuantity function to handle the new logic
function updateCartQuantity(productId, change) {
  const item = cartProducts.find(item => item.id === productId);
  
  if (item) {
    // Prevent reducing quantity if it's already 1
    if (change < 0 && item.quantity <= 1) {
      return; // Exit the function without making any changes
    }
    
    item.quantity += change;
    
    if (item.quantity <= 0) {
      removeFromCart(productId);
    } else {
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).update({
          quantity: item.quantity,
          updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        })
        .catch((error) => {
          console.error("Error updating cart:", error);
        });
      } else {
        localStorage.setItem('guestCart', JSON.stringify(cartProducts));
      }
      
      updateCartUI();
      updateOrderSummary();
    }
  }
}

// Also update the setCartQuantity function to prevent setting quantity to 0 or negative
function setCartQuantity(productId, quantity) {
  const item = cartProducts.find(item => item.id === productId);
  
  if (item) {
    // Prevent setting quantity to less than 1
    if (quantity < 1) {
      quantity = 1;
    }
    
    item.quantity = quantity;
    
    if (currentUser) {
      db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).update({
        quantity: quantity,
        updatedAt: firebase.firestore.FieldValue.serverTimestamp()
      })
      .catch((error) => {
        console.error("Error updating cart:", error);
      });
    } else {
      localStorage.setItem('guestCart', JSON.stringify(cartProducts));
    }
    
    updateCartUI();
    updateOrderSummary();
  }
}

// Update the UI to disable minus button when quantity is 1
function updateCartUI() {
  const totalItems = cartProducts.reduce((total, item) => total + item.quantity, 0);
  
  if (totalItems > 0) {
    cartCount.textContent = totalItems;
    cartCount.classList.remove('hidden');
  } else {
    cartCount.classList.add('hidden');
  }
  
  if (cartProducts.length === 0) {
    emptyCart.style.display = 'flex';
    cartItems.innerHTML = '';
    cartSummary.style.display = 'none';
    
    // Ensure empty cart is visible on mobile/tablet
    emptyCart.classList.remove('hidden');
    cartSummary.classList.add('hidden');
  } else {
    emptyCart.style.display = 'none';
    cartItems.innerHTML = '';
    cartSummary.style.display = 'block';
    
    // Hide empty cart and show summary
    emptyCart.classList.add('hidden');
    cartSummary.classList.remove('hidden');
    
    let subtotal = 0;
    
    cartProducts.forEach(item => {
      const product = products.find(p => p.id === item.id);
      if (product) {
        const itemTotal = product.price * item.quantity;
        subtotal += itemTotal;
        
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <div class="cart-item-details">
            <div class="cart-item-title">${product.name}</div>
            <div class="cart-item-price">₹${product.price}</div>
            <div class="cart-item-controls">
              <div class="cart-item-quantity">
                <button class="quantity-btn minus" data-id="${product.id}" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
                <input type="text" class="quantity-input" value="${item.quantity}" data-id="${product.id}">
                <button class="quantity-btn plus" data-id="${product.id}">+</button>
              </div>
              <button class="delete-item" data-id="${product.id}">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        `;
        cartItems.appendChild(cartItem);
      }
    });
    
    document.querySelector('.cart-subtotal span:last-child').textContent = `₹${subtotal}`;
    cartTotal.textContent = `₹${subtotal}`;
    
    document.querySelectorAll('.quantity-btn.minus').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        updateCartQuantity(productId, -1);
      });
    });
    
    document.querySelectorAll('.quantity-btn.plus').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        updateCartQuantity(productId, 1);
      });
    });
    
    document.querySelectorAll('.delete-item').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        removeFromCart(productId);
      });
    });
    
    document.querySelectorAll('.quantity-input').forEach(input => {
      input.addEventListener('change', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        const newQuantity = parseInt(e.currentTarget.value) || 1;
        setCartQuantity(productId, newQuantity);
      });
    });
  }
}

// Update the order summary section with the same logic
function updateOrderSummary() {
  orderItems.innerHTML = '';
  let subtotal = 0;
  
  if (cartProducts.length === 0) {
    const emptyMessage = document.createElement('div');
    emptyMessage.className = 'empty-order';
    emptyMessage.innerHTML = `
      <i class="fas fa-shopping-cart"></i>
      <p>Your cart is empty</p>
    `;
    orderItems.appendChild(emptyMessage);
  } else {
    cartProducts.forEach(item => {
      const product = products.find(p => p.id === item.id);
      if (product) {
        const itemTotal = product.price * item.quantity;
        subtotal += itemTotal;
        
        const orderItem = document.createElement('div');
        orderItem.className = 'order-item';
        orderItem.innerHTML = `
          <div class="order-item-row">
            <img src="${product.image}" alt="${product.name}" class="order-item-image">
            <div class="order-item-details">
              <div class="order-item-name">${product.name}</div>
              <div class="order-item-weight">${product.weight}</div>
              <div class="order-item-quantity">
                Quantity: 
                <div class="quantity-controls">
                  <button class="quantity-btn-checkout minus" data-id="${product.id}" ${item.quantity <= 1 ? 'disabled' : ''}>-</button>
                  <input type="text" class="quantity-input-checkout" value="${item.quantity}" data-id="${product.id}">
                  <button class="quantity-btn-checkout plus" data-id="${product.id}">+</button>
                </div>
              </div>
            </div>
            <div class="order-item-price">₹${itemTotal}</div>
          </div>
        `;
        orderItems.appendChild(orderItem);
      }
    });
    
    // Add event listeners for quantity controls in checkout
    document.querySelectorAll('.quantity-btn-checkout.minus').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        updateCartQuantity(productId, -1);
      });
    });
    
    document.querySelectorAll('.quantity-btn-checkout.plus').forEach(button => {
      button.addEventListener('click', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        updateCartQuantity(productId, 1);
      });
    });
    
    document.querySelectorAll('.quantity-input-checkout').forEach(input => {
      input.addEventListener('change', (e) => {
        const productId = parseInt(e.currentTarget.getAttribute('data-id'));
        const newQuantity = parseInt(e.currentTarget.value) || 1;
        setCartQuantity(productId, newQuantity);
      });
    });
  }
  
  originalTotal = subtotal;
  document.getElementById('subtotal').textContent = `₹${subtotal}`;
  document.getElementById('total').textContent = `₹${subtotal - currentDiscount}`;
}

    let lastScrollTop = 0;
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      if (scrollTop > 5) {
        if (!notificationBar.classList.contains('hidden')) {
          notificationBar.classList.add('hidden');
          navBar.style.top = '0';
          document.querySelector('.content-wrapper').style.marginTop = '130px';
        }
      } else {
        if (notificationBar.classList.contains('hidden')) {
          notificationBar.classList.remove('hidden');
          navBar.style.top = '40px';
          document.querySelector('.content-wrapper').style.marginTop = '165px';
        }
      }
      lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
    }, { passive: true });

    mobileMenuBtn.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      overlay.classList.toggle('active');
      document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : 'auto';
      
      const icon = mobileMenuBtn.querySelector('i');
      if (navLinks.classList.contains('active')) {
        icon.classList.remove('fa-bars');
        icon.classList.add('fa-times');
      } else {
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      }
    });

    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('active');
        overlay.classList.remove('active');
        document.body.style.overflow = 'auto';
        
        const icon = mobileMenuBtn.querySelector('i');
        icon.classList.remove('fa-times');
        icon.classList.add('fa-bars');
      });
    });

    overlay.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      cartSidebar.classList.remove('active');
      loginModal.classList.remove('active');
      navLinks.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
      document.body.classList.remove('mobile-cart-open');
      
      const icon = mobileMenuBtn.querySelector('i');
      icon.classList.remove('fa-times');
      icon.classList.add('fa-bars');
    });

    userIcon.addEventListener('click', (e) => {
      e.stopPropagation();
      if (currentUser) {
        userDropdown.classList.toggle('active');
      } else {
        showLoginView();
        loginModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });

    document.addEventListener('click', () => {
      userDropdown.classList.remove('active');
    });

    profileLink.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      userDropdown.classList.remove('active');
      if (currentUser) {
        alert('Profile page would open here');
      } else {
        showLoginView();
        loginModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });

    logoutLink.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      auth.signOut().then(() => {
        alert('You have been logged out successfully!');
      }).catch((error) => {
        console.error("Error signing out:", error);
      });
    });

    likeIcon.addEventListener('click', () => {
      // Close cart if open
      cartSidebar.classList.remove('active');
      // Open likes sidebar
      likesSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    closeLikes.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    function updateLikeUI() {
      if (likedProducts.length > 0) {
        likeCount.textContent = likedProducts.length;
        likeCount.classList.remove('hidden');
      } else {
        likeCount.classList.add('hidden');
      }
      
      if (likedProducts.length === 0) {
        emptyLikes.style.display = 'flex';
        likesItems.innerHTML = '';
      } else {
        emptyLikes.style.display = 'none';
        likesItems.innerHTML = '';
        
        likedProducts.forEach(productId => {
          const product = products.find(p => p.id === productId);
          if (product) {
            const likeItem = document.createElement('div');
            likeItem.className = 'like-item';
            likeItem.innerHTML = `
              <img src="${product.image}" alt="${product.name}">
              <div class="like-item-details">
                <div class="like-item-title">${product.name}</div>
                <div class="like-item-price">₹${product.price}</div>
                <div class="like-item-actions">
                  <button class="add-to-cart-btn" data-id="${product.id}">
                    <i class="fas fa-cart-plus"></i> Add to Cart
                  </button>
                  <button class="remove-like" data-id="${product.id}">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            `;
            likesItems.appendChild(likeItem);
          }
        });
        
        document.querySelectorAll('.remove-like').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            removeFromLikes(productId);
          });
        });
        
        document.querySelectorAll('.likes-items .add-to-cart-btn').forEach(button => {
          button.addEventListener('click', (e) => {
            const productId = parseInt(e.currentTarget.getAttribute('data-id'));
            addToCart(productId, 1);
          });
        });
      }
    }

    function addToLikes(productId) {
      if (!likedProducts.includes(productId)) {
        likedProducts.push(productId);
        
        if (currentUser) {
          db.collection('users').doc(currentUser.uid).collection('likes').doc(productId.toString()).set({
            productId: productId,
            addedAt: firebase.firestore.FieldValue.serverTimestamp()
          })
          .catch((error) => {
            console.error("Error adding to likes:", error);
          });
        } else {
          localStorage.setItem('guestLikes', JSON.stringify(likedProducts));
        }
        
        updateLikeUI();
        
        const heartIcon = likeIcon.querySelector('i');
        heartIcon.classList.remove('far');
        heartIcon.classList.add('fas');
        heartIcon.style.color = '#ff4d4d';
      }
    }

    function removeFromLikes(productId) {
      likedProducts = likedProducts.filter(id => id !== productId);
      
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('likes').doc(productId.toString()).delete()
        .catch((error) => {
          console.error("Error removing from likes:", error);
        });
      } else {
        localStorage.setItem('guestLikes', JSON.stringify(likedProducts));
      }
      
      updateLikeUI();
      
      if (likedProducts.length === 0) {
        const heartIcon = likeIcon.querySelector('i');
        heartIcon.classList.remove('fas');
        heartIcon.classList.add('far');
        heartIcon.style.color = '';
      }
    }

    cartIcon.addEventListener('click', () => {
      // Close likes if open
      likesSidebar.classList.remove('active');
      // Open cart sidebar
      cartSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';

      if (window.innerWidth <= 767) {
        document.body.classList.add('mobile-cart-open');
      }
    });

    closeCart.addEventListener('click', () => {
      cartSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
      
      if (window.innerWidth <= 767) {
        document.body.classList.remove('mobile-cart-open');
      }
    });


    function addToCart(productId, quantity = 1) {
      const existingItem = cartProducts.find(item => item.id === productId);
      
      if (existingItem) {
        existingItem.quantity += quantity;
      } else {
        cartProducts.push({ id: productId, quantity });
      }
      
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).set({
          productId: productId,
          quantity: existingItem ? existingItem.quantity : quantity,
          updatedAt: firebase.firestore.FieldValue.serverTimestamp()
        })
        .catch((error) => {
          console.error("Error adding to cart:", error);
        });
      } else {
        localStorage.setItem('guestCart', JSON.stringify(cartProducts));
      }
      
      updateCartUI();
      updateOrderSummary();
      
      // Close likes sidebar if open
      likesSidebar.classList.remove('active');
      // Open cart sidebar when product is added
      cartSidebar.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
      
      addCartVisualFeedback();
    }

    function addCartVisualFeedback() {
      cartIcon.classList.add('cart-icon-bounce');
      cartCount.classList.add('badge-pulse');
      
      setTimeout(() => {
        cartIcon.classList.remove('cart-icon-bounce');
        cartCount.classList.remove('badge-pulse');
      }, 600);
    }



    function removeFromCart(productId) {
      cartProducts = cartProducts.filter(item => item.id !== productId);
      
      if (currentUser) {
        db.collection('users').doc(currentUser.uid).collection('cart').doc(productId.toString()).delete()
        .catch((error) => {
          console.error("Error removing from cart:", error);
        });
      } else {
        localStorage.setItem('guestCart', JSON.stringify(cartProducts));
      }
      
      updateCartUI();
      updateOrderSummary();
    }

    whatsappIcon.addEventListener('click', () => {
      const phoneNumber = "919876543210";
      const message = "Hello, I'm interested in your honey products!";
      const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    });

    closeLogin.addEventListener('click', () => {
      loginModal.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
    });

    backBtn.addEventListener('click', () => {
      showLoginView();
    });

    document.getElementById("continueShopping").addEventListener("click", function() {
      window.location.href = "shop.html";
    });

    document.getElementById("checkoutBtn").addEventListener("click", function() {
      window.location.href = "checkout.html";
    });

    loginBtnCheckout.addEventListener('click', function() {
      if (isLoggedIn) {
        auth.signOut().then(() => {
          isLoggedIn = false;
          userEmail = '';
          loginBtnCheckout.textContent = 'Login';
          emailInput.disabled = false;
          emailInput.value = '';
          emailInput.placeholder = 'your@email.com';
          alert('You have been logged out successfully!');
        }).catch((error) => {
          console.error("Error signing out:", error);
        });
      } else {
        showLoginView();
        loginModal.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      }
    });
    
    function showLoginView() {
      currentModalView = 'login';
      loginForm.classList.add('active');
      signupForm.classList.remove('active');
      forgotForm.classList.remove('active');
      backBtn.classList.remove('active');
      modalTitle.textContent = 'Welcome Back';
      modalSubtitle.textContent = 'Sign in to your account';
      loginFooter.style.display = 'block';
    }

    function showSignupView() {
      currentModalView = 'signup';
      loginForm.classList.remove('active');
      signupForm.classList.add('active');
      forgotForm.classList.remove('active');
      backBtn.classList.add('active');
      modalTitle.textContent = 'Create Account';
      modalSubtitle.textContent = 'Join Natura Honey today';
      loginFooter.style.display = 'none';
    }

    function showForgotView() {
      currentModalView = 'forgot';
      loginForm.classList.remove('active');
      signupForm.classList.remove('active');
      forgotForm.classList.add('active');
      backBtn.classList.add('active');
      modalTitle.textContent = 'Reset Password';
      modalSubtitle.textContent = 'Enter your email to reset your password';
      loginFooter.style.display = 'none';
    }

    loginBtn.addEventListener('click', () => {
      const email = loginForm.querySelector('input[type="email"]').value;
      const password = loginForm.querySelector('input[type="password"]').value;
      
      if (!email || !password) {
        alert('Please fill in all fields');
        return;
      }
      
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Login successful!');
        })
        .catch((error) => {
          console.error("Error signing in:", error);
          alert('Error signing in: ' + error.message);
        });
    });

    signupBtn.addEventListener('click', () => {
      const name = signupForm.querySelector('input[type="text"]').value;
      const email = signupForm.querySelector('input[type="email"]').value;
      const password = signupForm.querySelectorAll('input[type="password"]')[0].value;
      const confirmPassword = signupForm.querySelectorAll('input[type="password"]')[1].value;
      
      if (!name || !email || !password || !confirmPassword) {
        alert('Please fill in all fields');
        return;
      }
      
      if (password !== confirmPassword) {
        alert('Passwords do not match');
        return;
      }
      
      if (!termsCheckbox.checked) {
        alert('Please agree to the Terms & Conditions and Privacy Policy');
        return;
      }
      
      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          
          return user.updateProfile({
            displayName: name
          }).then(() => {
            return user.sendEmailVerification();
          }).then(() => {
            return db.collection('users').doc(user.uid).set({
              displayName: name,
              email: email,
              createdAt: firebase.firestore.FieldValue.serverTimestamp()
            });
          });
        })
        .then(() => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Account created successfully! Please check your email for verification.');
        })
        .catch((error) => {
          console.error("Error creating account:", error);
          alert('Error creating account: ' + error.message);
        });
    });

    resetBtn.addEventListener('click', () => {
      const email = forgotForm.querySelector('input[type="email"]').value;
      
      if (!email) {
        alert('Please enter your email address');
        return;
      }
      
      auth.sendPasswordResetEmail(email)
        .then(() => {
          loginModal.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = 'auto';
          alert('Password reset link sent to your email!');
        })
        .catch((error) => {
          console.error("Error sending reset email:", error);
          alert('Error sending reset email: ' + error.message);
        });
    });

    googleLoginBtn.addEventListener('click', () => {
      if (window.location.protocol !== 'https:' && window.location.protocol !== 'http:' && !window.location.hostname.includes('localhost')) {
        alert('Google login is not supported in this environment. Please use email/password login instead.');
        return;
      }
      
      try {
        const provider = new firebase.auth.GoogleAuthProvider();
        
        auth.signInWithPopup(provider)
          .then((result) => {
            const user = result.user;
            
            return db.collection('users').doc(user.uid).get().then((doc) => {
              if (!doc.exists) {
                return db.collection('users').doc(user.uid).set({
                  displayName: user.displayName,
                  email: user.email,
                  createdAt: firebase.firestore.FieldValue.serverTimestamp()
                });
              }
            });
          })
          .then(() => {
            loginModal.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = 'auto';
            alert('Google login successful!');
          })
          .catch((error) => {
            console.error("Error with Google login:", error);
            if (error.code === 'auth/operation-not-supported-in-this-environment') {
              alert('Google login is not supported in this environment. Please use email/password login instead.');
            } else {
              alert('Error with Google login: ' + error.message);
            }
          });
      } catch (error) {
        console.error("Error with Google login:", error);
        alert('Google login is not available in this environment. Please use email/password login instead.');
      }
    });

    forgotPassword.addEventListener('click', (e) => {
      e.preventDefault();
      showForgotView();
    });

    signUp.addEventListener('click', (e) => {
      e.preventDefault();
      showSignupView();
    });
    
    const applyBtn = document.querySelector('.apply-btn');
    const promoInput = document.querySelector('.promo-input');
    const promoSuccess = document.getElementById('promoSuccess');
    const promoError = document.getElementById('promoError');
    const discountRow = document.getElementById('discountRow');
    const discountAmount = document.getElementById('discountAmount');
    const subtotalElement = document.getElementById('subtotal');
    const totalElement = document.getElementById('total');
    
    function getActivePromoCodes() {
      const promoCodes = localStorage.getItem('naturaPromoCodes');
      return promoCodes ? JSON.parse(promoCodes) : {};
    }
    
    applyBtn.addEventListener('click', function() {
      const promoCode = promoInput.value.trim().toUpperCase();
      
      if (promoCode === '') {
        showPromoError('Please enter a promo code');
        return;
      }
      
      hideAllPromoMessages();
      
      const activePromoCodes = getActivePromoCodes();
      
      if (activePromoCodes[promoCode] && activePromoCodes[promoCode].active) {
        currentDiscount = activePromoCodes[promoCode].value;
        updateTotals();
        promoInput.value = '';
        showPromoSuccess(`Promo code applied successfully! ₹${currentDiscount} discount applied.`);
      } else {
        showPromoError('Invalid promo code. Please try again.');
      }
    });
    
    function updateTotals() {
      const newTotal = originalTotal - currentDiscount;
      
      if (currentDiscount > 0) {
        discountRow.style.display = 'flex';
        discountAmount.textContent = `-₹${currentDiscount}`;
      } else {
        discountRow.style.display = 'none';
      }
      
      totalElement.textContent = `₹${newTotal}`;
    }
    
    function showPromoSuccess(message) {
      promoSuccess.textContent = message;
      promoSuccess.style.display = 'block';
      promoError.style.display = 'none';
      
      setTimeout(() => {
        promoSuccess.style.display = 'none';
      }, 5000);
    }
    
    function showPromoError(message) {
      promoError.textContent = message;
      promoError.style.display = 'block';
      promoSuccess.style.display = 'none';
      
      setTimeout(() => {
        promoError.style.display = 'none';
      }, 5000);
    }
    
    function hideAllPromoMessages() {
      promoSuccess.style.display = 'none';
      promoError.style.display = 'none';
    }
    
    function validateIndianPhoneNumber(phone) {
      if (phone.startsWith('+91')) {
        phone = phone.replace('+91', '').trim();
      }

      const cleanedPhone = phone.replace(/\D/g, '');

      const phoneRegex = /^[6-9]\d{9}$/;
      return phoneRegex.test(cleanedPhone);
    }
    
    const checkoutBtnMain = document.querySelector('.checkout-btn');
    
    checkoutBtnMain.addEventListener('click', function() {
      const email = document.getElementById('email').value;
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const address = document.getElementById('address').value;
      const city = document.getElementById('city').value;
      const state = document.getElementById('state').value;
      const zipCode = document.getElementById('zipCode').value;
      const phone = document.getElementById('phone').value;

      if (!validateIndianPhoneNumber(phone)) {
        alert('Please enter a valid Indian phone number (10 digits starting with 6-9)');
        return;
      }      
      
      if (!email || !firstName || !lastName || !address || !city || !state || !zipCode || !phone) {
        alert('Please fill in all required fields');
        return;
      }
      
      alert('Thank you for your order! You will be redirected to Razorpay to complete your payment.');
    });

    function loadGuestData() {
      const guestLikes = localStorage.getItem('guestLikes');
      if (guestLikes) {
        likedProducts = JSON.parse(guestLikes);
        updateLikeUI();
      }
      
      const guestCart = localStorage.getItem('guestCart');
      if (guestCart) {
        cartProducts = JSON.parse(guestCart);
        updateCartUI();
        updateOrderSummary();
      } else {
        // Ensure empty cart state is properly set
        updateCartUI();
      }
    }

    browseProducts.addEventListener('click', () => {
      likesSidebar.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
      window.location.href = 'shop.html';
    });

    // Initialize cart UI properly when page loads
    document.addEventListener('DOMContentLoaded', function() {
      updateCartUI();
    });

    loadGuestData();
  </script>  </body>
</html>
